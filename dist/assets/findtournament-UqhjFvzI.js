import{r as y,i as _,j as e,a as z,l as R,b as n,n as $,o as m,Q as N,T as k,q,t as P,f as G,B as U}from"./index-9lQEQ0CR.js";var h={},B=_;Object.defineProperty(h,"__esModule",{value:!0});var T=h.default=void 0,F=B(y()),Q=e;T=h.default=(0,F.default)((0,Q.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");var p={},H=_;Object.defineProperty(p,"__esModule",{value:!0});var C=p.default=void 0,J=H(y()),V=e;C=p.default=(0,J.default)((0,V.jsx)("path",{d:"M3 18h13v-2H3zm0-5h10v-2H3zm0-7v2h13V6zm18 9.59L17.42 12 21 8.41 19.59 7l-5 5 5 5z"}),"MenuOpen");const K=()=>{const r=z(),L=R(),w="https://res.cloudinary.com/dusxlxlvm/image/upload/v1709654642/battlefiesta/assets/logo/logopng250_vuhy4f.webp";n.useEffect(()=>{r($("Tournaments")),r(m(!0)),b()},[]);const[f,O]=n.useState([]),[g,E]=n.useState([]),[j,D]=n.useState([]),[x,a]=n.useState([]),[v,c]=n.useState([]),[d,I]=n.useState(""),u=t=>{let s=document.querySelectorAll(".conta .cate div");s.forEach(i=>i.classList.remove("active")),s[t].classList.add("active"),t===0?(a(g),c(g)):t===1?(a(f),c(f)):(a(j),c(j))},b=async()=>{try{const t=await fetch("/api/getalltournament",{method:"GET"}),s=await t.json();if(console.log(s),r(m(!1)),!t.ok)return N.warn(s.message,{autoclose:2100});let i=[],l=[],S=[];s.data.forEach(o=>{o.status==="ongoing"&&i.push(o),o.status==="upcoming"&&l.push(o),o.status==="completed"&&S.push(o)}),O(i),E(l),D(S),a(l),c(l)}catch(t){console.log(t),r(m(!1))}},A=async()=>{if(d.trim()===""){a(v);return}try{const t=await fetch("/api/tournamnetsearch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tournid:d})}),s=await t.json();if(!t.ok)return N.warn(s.message,{autoclose:1500});a([s.query])}catch(t){console.log(t)}},M=t=>{L(`/tournaments/${t}`)};return e.jsxs("div",{className:"findtournas",children:[e.jsxs("div",{className:"conta",children:[e.jsxs("div",{className:"cate",children:[e.jsxs("div",{onClick:()=>u(0),className:"active",children:[e.jsx("i",{className:"fa fa-gamepad","aria-hidden":"true"}),e.jsx("span",{children:"UPCOMING"})]}),e.jsxs("div",{onClick:()=>u(1),children:[e.jsx("i",{className:"fa fa-play","aria-hidden":"true"}),e.jsx("span",{children:"ONGOING"})]}),e.jsxs("div",{onClick:()=>u(2),children:[e.jsx("i",{className:"fa fa-undo","aria-hidden":"true"}),e.jsx("span",{children:"COMPLETED"})]})]}),e.jsx("div",{children:e.jsx(k,{label:"Tournament Id...",fullWidth:!0,size:"small",className:"filled",value:d,onChange:t=>{const s=t.target.value;I(s),s===""&&a(v)},InputProps:{endAdornment:e.jsx(q,{position:"end",children:e.jsx(P,{onClick:A,className:"search-icon-button",children:e.jsx(T,{titleAccess:"Search"})})})}})})]}),e.jsxs("div",{className:"cards",children:[x.length<1&&e.jsx("div",{className:"notfound",children:e.jsxs("div",{children:[e.jsx(G,{className:"sad"}),e.jsx("h2",{children:"No Tournament Found"}),e.jsx("p",{children:"This section will be auto updated once any Tournament comes under this section"})]})}),x.map(t=>{const s=new Date(t.createdAt).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}),i=new Date(t.createdAt).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0});return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"img",children:[e.jsx("img",{loading:"lazy",src:t.tournment_logo?t.tournment_logo:w,alt:"logo"}),e.jsx("span",{title:t.title,children:t.title})]}),e.jsxs("h3",{className:"organiser",children:["- ",t.organiser]}),e.jsxs("div",{className:"time",children:[s,", ",i," ",e.jsx("span",{children:t.type})]}),e.jsxs("div",{className:"controller",children:[e.jsx(U,{size:"small",onClick:()=>M(t._id),variant:"contained",endIcon:e.jsx(C,{}),children:"READ MORE"}),e.jsx("p",{className:"status",title:"Status",children:t.status})]})]},t._id)})]})]})};export{K as default};
