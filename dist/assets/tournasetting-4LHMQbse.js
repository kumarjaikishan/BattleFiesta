import{R as Pe,U as Ne,r as i,V as Te,aG as Ta,j as e,g as ie,Y as xe,Z as K,_ as $e,aH as Qt,a0 as ye,a1 as rt,aI as Va,P as $a,aJ as qt,aK as Ga,aL as Lt,aM as Wa,aN as Ka,W as xt,aO as qa,aP as Ot,aQ as La,aR as lt,aS as Ye,aT as ra,aU as Jt,f as Ie,u as Ee,T as ae,q as Xe,t as Qe,S as Ze,v as B,aV as Rt,e as X,aW as Ge,i as bt,Q as T,aX as et,aY as ia,ac as Ra,aq as Da,ar as Oa,aw as Dt,aF as Ja,at as Ma,am as ca,aZ as Zt,aC as Ya,a_ as Xa,a$ as Qa,b0 as da,b1 as pa,b2 as ua,ab as ct,a9 as Za,d as vt,au as dt,b3 as Ae,b4 as es,b5 as ts,b6 as as,b7 as Aa,b8 as za,ax as ss,b9 as os,ba as ns,a7 as Ea,bb as ea,bc as aa,bd as ls,be as rs,bf as is,bg as cs,s as yt,bh as ds,bi as ps,ae as _a,a as us,h as ms,bj as gs,bk as hs,bl as fs,bm as xs,bn as bs,K as Yt,bo as Xt}from"./index-BUI111fs.js";import{u as Fa}from"./imageresizer-D4I-KFLq.js";import{R as ys,a as ma,D as js,b as vs,c as Cs}from"./apiWrapper-fuQ2P8_c.js";import{B as ze}from"./Box-s17l6q7Q.js";import{F as ga,a as ks}from"./Switch-DuK86vMO.js";import{a as ws}from"./index-GOHHUsf-.js";import{D as Ss}from"./DialogContent-B4F0G4H-.js";import{D as it}from"./Divider-CUUX_Pq3.js";function Is(t){return Ne("MuiIconButton",t)}const ha=Pe("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Ps=t=>{const{classes:a,disabled:s,color:o,edge:g,size:d,loading:p}=t,c={root:["root",p&&"loading",s&&"disabled",o!=="default"&&`color${K(o)}`,g&&`edge${K(g)}`,`size${K(d)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return $e(c,Is,a)},Ns=ie(Qt,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:s}=t;return[a.root,s.loading&&a.loading,s.color!=="default"&&a[`color${K(s.color)}`],s.edge&&a[`edge${K(s.edge)}`],a[`size${K(s.size)}`]]}})(ye(({theme:t})=>({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:a=>!a.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),ye(({theme:t})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(rt()).map(([a])=>({props:{color:a},style:{color:(t.vars||t).palette[a].main}})),...Object.entries(t.palette).filter(rt()).map(([a])=>({props:{color:a},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[a].main,(t.vars||t).palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],[`&.${ha.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},[`&.${ha.loading}`]:{color:"transparent"}}))),Ts=ie("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:t})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Ha=i.forwardRef(function(a,s){const o=Te({props:a,name:"MuiIconButton"}),{edge:g=!1,children:d,className:p,color:c="default",disabled:h=!1,disableFocusRipple:f=!1,size:P="medium",id:C,loading:n=null,loadingIndicator:v,...y}=o,N=Ta(C),_=v??e.jsx(Va,{"aria-labelledby":N,color:"inherit",size:16}),R={...o,edge:g,color:c,disabled:h,disableFocusRipple:f,loading:n,loadingIndicator:_,size:P},u=Ps(R);return e.jsxs(Ns,{id:n?N:C,className:xe(u.root,p),centerRipple:!0,focusRipple:!f,disabled:h||n,ref:s,...y,ownerState:R,children:[typeof n=="boolean"&&e.jsx("span",{className:u.loadingWrapper,style:{display:"contents"},children:e.jsx(Ts,{className:u.loadingIndicator,ownerState:R,children:n&&_})}),d]})}),$s=$a(e.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function fa({array1:t,array2:a,parser:s=o=>o}){return t&&a&&t.length===a.length&&t.every((o,g)=>s(o)===s(a[g]))}function xa(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Ls(t={}){const{ignoreAccents:a=!0,ignoreCase:s=!0,limit:o,matchFrom:g="any",stringify:d,trim:p=!1}=t;return(c,{inputValue:h,getOptionLabel:f})=>{let P=p?h.trim():h;s&&(P=P.toLowerCase()),a&&(P=xa(P));const C=P?c.filter(n=>{let v=(d||f)(n);return s&&(v=v.toLowerCase()),a&&(v=xa(v)),g==="start"?v.startsWith(P):v.includes(P)}):c;return typeof o=="number"?C.slice(0,o):C}}const Rs=Ls(),ba=5,Ds=t=>{var a;return t.current!==null&&((a=t.current.parentElement)==null?void 0:a.contains(document.activeElement))},Os=[];function ya(t,a,s,o){if(a||t==null||o)return"";const g=s(t);return typeof g=="string"?g:""}function Ms(t){const{unstable_isActiveElementInListbox:a=Ds,unstable_classNamePrefix:s="Mui",autoComplete:o=!1,autoHighlight:g=!1,autoSelect:d=!1,blurOnSelect:p=!1,clearOnBlur:c=!t.freeSolo,clearOnEscape:h=!1,componentName:f="useAutocomplete",defaultValue:P=t.multiple?Os:null,disableClearable:C=!1,disableCloseOnSelect:n=!1,disabled:v,disabledItemsFocusable:y=!1,disableListWrap:N=!1,filterOptions:_=Rs,filterSelectedOptions:R=!1,freeSolo:u=!1,getOptionDisabled:x,getOptionKey:D,getOptionLabel:Q=r=>r.label??r,groupBy:z,handleHomeEndKeys:k=!t.freeSolo,id:S,includeInputInList:M=!1,inputValue:V,isOptionEqualToValue:F=(r,l)=>r===l,multiple:I=!1,onChange:oe,onClose:re,onHighlightChange:ce,onInputChange:m,onOpen:O,open:A,openOnFocus:Z=!1,options:ee,readOnly:J=!1,renderValue:b,selectOnFocus:$=!t.freeSolo,value:L}=t,E=Ta(S);let j=Q;j=r=>{const l=Q(r);return typeof l!="string"?String(l):l};const G=i.useRef(!1),ne=i.useRef(!0),le=i.useRef(null),je=i.useRef(null),[pt,sa]=i.useState(null),[be,We]=i.useState(-1),zt=g?0:-1,he=i.useRef(zt),oa=i.useRef(ya(P??L,I,j)).current,[H,Et]=qt({controlled:L,default:P,name:f}),[se,Le]=qt({controlled:V,default:oa,name:f,state:"inputValue"}),[tt,Ct]=i.useState(!1),at=i.useCallback((r,l,w)=>{if(!(I?H.length<l.length:l!==null)&&!c)return;const W=ya(l,I,j,b);se!==W&&(Le(W),m&&m(r,W,w))},[j,se,I,m,Le,c,H,b]),[Re,Ke]=qt({controlled:A,default:!1,name:f,state:"open"}),[na,st]=i.useState(!0),kt=!I&&H!=null&&se===j(H),fe=Re&&!J,de=fe?_(ee.filter(r=>!(R&&(I?H:[H]).some(l=>l!==null&&F(r,l)))),{inputValue:kt&&na?"":se,getOptionLabel:j}):[],ve=Ga({filteredOptions:de,value:H,inputValue:se});i.useEffect(()=>{const r=H!==ve.value;tt&&!r||u&&!r||at(null,H,"reset")},[H,at,tt,ve.value,u]);const wt=Re&&de.length>0&&!J,Se=Lt(r=>{if(r===-1)le.current.focus();else{const l=b?"data-item-index":"data-tag-index";pt.querySelector(`[${l}="${r}"]`).focus()}});i.useEffect(()=>{I&&be>H.length-1&&(We(-1),Se(-1))},[H,I,be,Se]);function _t(r,l){if(!je.current||r<0||r>=de.length)return-1;let w=r;for(;;){const U=je.current.querySelector(`[data-option-index="${w}"]`),W=y?!1:!U||U.disabled||U.getAttribute("aria-disabled")==="true";if(U&&U.hasAttribute("tabindex")&&!W)return w;if(l==="next"?w=(w+1)%de.length:w=(w-1+de.length)%de.length,w===r)return-1}}const De=Lt(({event:r,index:l,reason:w})=>{if(he.current=l,l===-1?le.current.removeAttribute("aria-activedescendant"):le.current.setAttribute("aria-activedescendant",`${E}-option-${l}`),ce&&["mouse","keyboard","touch"].includes(w)&&ce(r,l===-1?null:de[l],w),!je.current)return;const U=je.current.querySelector(`[role="option"].${s}-focused`);U&&(U.classList.remove(`${s}-focused`),U.classList.remove(`${s}-focusVisible`));let W=je.current;if(je.current.getAttribute("role")!=="listbox"&&(W=je.current.parentElement.querySelector('[role="listbox"]')),!W)return;if(l===-1){W.scrollTop=0;return}const ge=je.current.querySelector(`[data-option-index="${l}"]`);if(ge&&(ge.classList.add(`${s}-focused`),w==="keyboard"&&ge.classList.add(`${s}-focusVisible`),W.scrollHeight>W.clientHeight&&w!=="mouse"&&w!=="touch")){const pe=ge,we=W.clientHeight+W.scrollTop,Nt=pe.offsetTop+pe.offsetHeight;Nt>we?W.scrollTop=Nt-W.clientHeight:pe.offsetTop-pe.offsetHeight*(z?1.3:0)<W.scrollTop&&(W.scrollTop=pe.offsetTop-pe.offsetHeight*(z?1.3:0))}}),Ce=Lt(({event:r,diff:l,direction:w="next",reason:U})=>{if(!fe)return;const ge=_t((()=>{const pe=de.length-1;if(l==="reset")return zt;if(l==="start")return 0;if(l==="end")return pe;const we=he.current+l;return we<0?we===-1&&M?-1:N&&he.current!==-1||Math.abs(l)>1?0:pe:we>pe?we===pe+1&&M?-1:N||Math.abs(l)>1?pe:0:we})(),w);if(De({index:ge,reason:U,event:r}),o&&l!=="reset")if(ge===-1)le.current.value=se;else{const pe=j(de[ge]);le.current.value=pe,pe.toLowerCase().indexOf(se.toLowerCase())===0&&se.length>0&&le.current.setSelectionRange(se.length,pe.length)}}),St=!fa({array1:ve.filteredOptions,array2:de,parser:j}),Ft=()=>{const r=(l,w)=>{const U=l?j(l):"",W=w?j(w):"";return U===W};if(he.current!==-1&&!fa({array1:ve.filteredOptions,array2:de,parser:j})&&ve.inputValue===se&&(I?H.length===ve.value.length&&ve.value.every((l,w)=>j(H[w])===j(l)):r(ve.value,H))){const l=ve.filteredOptions[he.current];if(l)return de.findIndex(w=>j(w)===j(l))}return-1},ut=i.useCallback(()=>{if(!fe)return;const r=Ft();if(r!==-1){he.current=r;return}const l=I?H[0]:H;if(de.length===0||l==null){Ce({diff:"reset"});return}if(je.current){if(l!=null){const w=de[he.current];if(I&&w&&H.findIndex(W=>F(w,W))!==-1)return;const U=de.findIndex(W=>F(W,l));U===-1?Ce({diff:"reset"}):De({index:U});return}if(he.current>=de.length-1){De({index:de.length-1});return}De({index:he.current})}},[de.length,I?!1:H,Ce,De,fe,se,I]),_e=Lt(r=>{Wa(je,r),r&&ut()});i.useEffect(()=>{(St||fe)&&ut()},[ut,St,fe]);const Oe=r=>{Re||(Ke(!0),st(!0),O&&O(r))},qe=(r,l)=>{Re&&(Ke(!1),re&&re(r,l))},ke=(r,l,w,U)=>{if(I){if(H.length===l.length&&H.every((W,ge)=>W===l[ge]))return}else if(H===l)return;oe&&oe(r,l,w,U),Et(l)},Me=i.useRef(!1),Fe=(r,l,w="selectOption",U="options")=>{let W=w,ge=l;if(I){ge=Array.isArray(H)?H.slice():[];const pe=ge.findIndex(we=>F(l,we));pe===-1?ge.push(l):U!=="freeSolo"&&(ge.splice(pe,1),W="removeOption")}at(r,ge,W),ke(r,ge,W,{option:l}),!n&&(!r||!r.ctrlKey&&!r.metaKey)&&qe(r,W),(p===!0||p==="touch"&&Me.current||p==="mouse"&&!Me.current)&&le.current.blur()};function Ht(r,l){if(r===-1)return-1;let w=r;for(;;){if(l==="next"&&w===H.length||l==="previous"&&w===-1)return-1;const U=b?"data-item-index":"data-tag-index",W=pt.querySelector(`[${U}="${w}"]`);if(!W||!W.hasAttribute("tabindex")||W.disabled||W.getAttribute("aria-disabled")==="true")w+=l==="next"?1:-1;else return w}}const Je=(r,l)=>{if(!I)return;se===""&&qe(r,"toggleInput");let w=be;be===-1&&l==="previous"?(w=H.length-1,u&&se!==""&&(Le(""),m&&m(r,"","reset"))):(w+=l==="next"?1:-1,w<0&&(w=0),w===H.length&&(w=-1)),w=Ht(w,l),We(w),Se(w)},It=r=>{G.current=!0,Le(""),m&&m(r,"","clear"),ke(r,I?[]:null,"clear")},Ut=r=>l=>{if(r.onKeyDown&&r.onKeyDown(l),!l.defaultMuiPrevented&&(be!==-1&&!["ArrowLeft","ArrowRight"].includes(l.key)&&(We(-1),Se(-1)),l.which!==229))switch(l.key){case"Home":fe&&k&&(l.preventDefault(),Ce({diff:"start",direction:"next",reason:"keyboard",event:l}));break;case"End":fe&&k&&(l.preventDefault(),Ce({diff:"end",direction:"previous",reason:"keyboard",event:l}));break;case"PageUp":l.preventDefault(),Ce({diff:-ba,direction:"previous",reason:"keyboard",event:l}),Oe(l);break;case"PageDown":l.preventDefault(),Ce({diff:ba,direction:"next",reason:"keyboard",event:l}),Oe(l);break;case"ArrowDown":l.preventDefault(),Ce({diff:1,direction:"next",reason:"keyboard",event:l}),Oe(l);break;case"ArrowUp":l.preventDefault(),Ce({diff:-1,direction:"previous",reason:"keyboard",event:l}),Oe(l);break;case"ArrowLeft":{const w=le.current;if(!(w&&w.selectionStart===0&&w.selectionEnd===0))return;!I&&b&&H!=null?(u&&se!==""&&(Le(""),m&&m(l,"","reset")),We(0),Se(0)):Je(l,"previous");break}case"ArrowRight":!I&&b?(We(-1),Se(-1)):Je(l,"next");break;case"Enter":if(he.current!==-1&&fe){const w=de[he.current],U=x?x(w):!1;if(l.preventDefault(),U)return;Fe(l,w,"selectOption"),o&&le.current.setSelectionRange(le.current.value.length,le.current.value.length)}else u&&se!==""&&kt===!1&&(I&&l.preventDefault(),Fe(l,se,"createOption","freeSolo"));break;case"Escape":fe?(l.preventDefault(),l.stopPropagation(),qe(l,"escape")):h&&(se!==""||I&&H.length>0||b)&&(l.preventDefault(),l.stopPropagation(),It(l));break;case"Backspace":if(I&&!J&&se===""&&H.length>0){const w=be===-1?H.length-1:be,U=H.slice();U.splice(w,1),ke(l,U,"removeOption",{option:H[w]})}!I&&b&&!J&&se===""&&ke(l,null,"removeOption",{option:H});break;case"Delete":if(I&&!J&&se===""&&H.length>0&&be!==-1){const w=be,U=H.slice();U.splice(w,1),ke(l,U,"removeOption",{option:H[w]})}!I&&b&&!J&&se===""&&ke(l,null,"removeOption",{option:H});break}},ot=r=>{Ct(!0),be!==-1&&(We(-1),Se(-1)),Z&&!G.current&&Oe(r)},nt=r=>{if(a(je)){le.current.focus();return}Ct(!1),ne.current=!0,G.current=!1,d&&he.current!==-1&&fe?Fe(r,de[he.current],"blur"):d&&u&&se!==""?Fe(r,se,"blur","freeSolo"):c&&at(r,H,"blur"),qe(r,"blur")},mt=r=>{const l=r.target.value;se!==l&&(Le(l),st(!1),m&&m(r,l,"input")),l===""?!C&&!I&&!b&&ke(r,null,"clear"):Oe(r)},Bt=r=>{const l=Number(r.currentTarget.getAttribute("data-option-index"));he.current!==l&&De({event:r,index:l,reason:"mouse"})},Vt=r=>{De({event:r,index:Number(r.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Me.current=!0},Gt=r=>{const l=Number(r.currentTarget.getAttribute("data-option-index"));Fe(r,de[l],"selectOption"),Me.current=!1},Wt=r=>l=>{const w=H.slice();w.splice(r,1),ke(l,w,"removeOption",{option:H[r]})},gt=r=>{ke(r,null,"removeOption",{option:H})},ue=r=>{Re?qe(r,"toggleInput"):Oe(r)},me=r=>{r.currentTarget.contains(r.target)&&r.target.getAttribute("id")!==E&&r.preventDefault()},He=r=>{r.currentTarget.contains(r.target)&&(le.current.focus(),$&&ne.current&&le.current.selectionEnd-le.current.selectionStart===0&&le.current.select(),ne.current=!1)},Kt=r=>{!v&&(se===""||!Re)&&ue(r)};let ht=u&&se.length>0;ht=ht||(I?H.length>0:H!==null);let Pt=de;return z&&(Pt=de.reduce((r,l,w)=>{const U=z(l);return r.length>0&&r[r.length-1].group===U?r[r.length-1].options.push(l):r.push({key:w,index:w,group:U,options:[l]}),r},[])),v&&tt&&nt(),{getRootProps:(r={})=>({...r,onKeyDown:Ut(r),onMouseDown:me,onClick:He}),getInputLabelProps:()=>({id:`${E}-label`,htmlFor:E}),getInputProps:()=>({id:E,value:se,onBlur:nt,onFocus:ot,onChange:mt,onMouseDown:Kt,"aria-activedescendant":fe?"":null,"aria-autocomplete":o?"both":"list","aria-controls":wt?`${E}-listbox`:void 0,"aria-expanded":wt,autoComplete:"off",ref:le,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:v}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:It}),getItemProps:({index:r=0}={})=>({...I&&{key:r},...b?{"data-item-index":r}:{"data-tag-index":r},tabIndex:-1,...!J&&{onDelete:I?Wt(r):gt}}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:ue}),getTagProps:({index:r})=>({key:r,"data-tag-index":r,tabIndex:-1,...!J&&{onDelete:Wt(r)}}),getListboxProps:()=>({role:"listbox",id:`${E}-listbox`,"aria-labelledby":`${E}-label`,ref:_e,onMouseDown:r=>{r.preventDefault()}}),getOptionProps:({index:r,option:l})=>{const w=(I?H:[H]).some(W=>W!=null&&F(l,W)),U=x?x(l):!1;return{key:(D==null?void 0:D(l))??j(l),tabIndex:-1,role:"option",id:`${E}-option-${r}`,onMouseMove:Bt,onClick:Gt,onTouchStart:Vt,"data-option-index":r,"aria-disabled":U,"aria-selected":w}},id:E,inputValue:se,value:H,dirty:ht,expanded:fe&&pt,popupOpen:fe,focused:tt||be!==-1,anchorEl:pt,setAnchorEl:sa,focusedItem:be,focusedTag:be,groupedOptions:Pt}}function As(t){return Ne("MuiListSubheader",t)}Pe("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const zs=t=>{const{classes:a,color:s,disableGutters:o,inset:g,disableSticky:d}=t,p={root:["root",s!=="default"&&`color${K(s)}`,!o&&"gutters",g&&"inset",!d&&"sticky"]};return $e(p,As,a)},Es=ie("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:s}=t;return[a.root,s.color!=="default"&&a[`color${K(s.color)}`],!s.disableGutters&&a.gutters,s.inset&&a.inset,!s.disableSticky&&a.sticky]}})(ye(({theme:t})=>({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14),variants:[{props:{color:"primary"},style:{color:(t.vars||t).palette.primary.main}},{props:{color:"inherit"},style:{color:"inherit"}},{props:({ownerState:a})=>!a.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:a})=>a.inset,style:{paddingLeft:72}},{props:({ownerState:a})=>!a.disableSticky,style:{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper}}]}))),ta=i.forwardRef(function(a,s){const o=Te({props:a,name:"MuiListSubheader"}),{className:g,color:d="default",component:p="li",disableGutters:c=!1,disableSticky:h=!1,inset:f=!1,...P}=o,C={...o,color:d,component:p,disableGutters:c,disableSticky:h,inset:f},n=zs(C);return e.jsx(Es,{as:p,className:xe(n.root,g),ref:s,ownerState:C,...P})});ta&&(ta.muiSkipListHighlight=!0);const _s=$a(e.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function Fs(t){return Ne("MuiChip",t)}const Y=Pe("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Hs=t=>{const{classes:a,disabled:s,size:o,color:g,iconColor:d,onDelete:p,clickable:c,variant:h}=t,f={root:["root",h,s&&"disabled",`size${K(o)}`,`color${K(g)}`,c&&"clickable",c&&`clickableColor${K(g)}`,p&&"deletable",p&&`deletableColor${K(g)}`,`${h}${K(g)}`],label:["label",`label${K(o)}`],avatar:["avatar",`avatar${K(o)}`,`avatarColor${K(g)}`],icon:["icon",`icon${K(o)}`,`iconColor${K(d)}`],deleteIcon:["deleteIcon",`deleteIcon${K(o)}`,`deleteIconColor${K(g)}`,`deleteIcon${K(h)}Color${K(g)}`]};return $e(f,Fs,a)},Us=ie("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:s}=t,{color:o,iconColor:g,clickable:d,onDelete:p,size:c,variant:h}=s;return[{[`& .${Y.avatar}`]:a.avatar},{[`& .${Y.avatar}`]:a[`avatar${K(c)}`]},{[`& .${Y.avatar}`]:a[`avatarColor${K(o)}`]},{[`& .${Y.icon}`]:a.icon},{[`& .${Y.icon}`]:a[`icon${K(c)}`]},{[`& .${Y.icon}`]:a[`iconColor${K(g)}`]},{[`& .${Y.deleteIcon}`]:a.deleteIcon},{[`& .${Y.deleteIcon}`]:a[`deleteIcon${K(c)}`]},{[`& .${Y.deleteIcon}`]:a[`deleteIconColor${K(o)}`]},{[`& .${Y.deleteIcon}`]:a[`deleteIcon${K(h)}Color${K(o)}`]},a.root,a[`size${K(c)}`],a[`color${K(o)}`],d&&a.clickable,d&&o!=="default"&&a[`clickableColor${K(o)}`],p&&a.deletable,p&&o!=="default"&&a[`deletableColor${K(o)}`],a[h],a[`${h}${K(o)}`]]}})(ye(({theme:t})=>{const a=t.palette.mode==="light"?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${Y.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${Y.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:a,fontSize:t.typography.pxToRem(12)},[`& .${Y.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${Y.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${Y.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${Y.icon}`]:{marginLeft:5,marginRight:-6},[`& .${Y.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:t.alpha((t.vars||t).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.alpha((t.vars||t).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${Y.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${Y.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(rt(["contrastText"])).map(([s])=>({props:{color:s},style:{backgroundColor:(t.vars||t).palette[s].main,color:(t.vars||t).palette[s].contrastText,[`& .${Y.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[s].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[s].contrastText}}}})),{props:s=>s.iconColor===s.color,style:{[`& .${Y.icon}`]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:a}}},{props:s=>s.iconColor===s.color&&s.color!=="default",style:{[`& .${Y.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${Y.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}},...Object.entries(t.palette).filter(rt(["dark"])).map(([s])=>({props:{color:s,onDelete:!0},style:{[`&.${Y.focusVisible}`]:{background:(t.vars||t).palette[s].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)},[`&.${Y.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(rt(["dark"])).map(([s])=>({props:{color:s,clickable:!0},style:{[`&:hover, &.${Y.focusVisible}`]:{backgroundColor:(t.vars||t).palette[s].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${t.palette.mode==="light"?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${Y.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Y.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${Y.avatar}`]:{marginLeft:4},[`& .${Y.avatarSmall}`]:{marginLeft:2},[`& .${Y.icon}`]:{marginLeft:4},[`& .${Y.iconSmall}`]:{marginLeft:2},[`& .${Y.deleteIcon}`]:{marginRight:5},[`& .${Y.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(t.palette).filter(rt()).map(([s])=>({props:{variant:"outlined",color:s},style:{color:(t.vars||t).palette[s].main,border:`1px solid ${t.alpha((t.vars||t).palette[s].main,.7)}`,[`&.${Y.clickable}:hover`]:{backgroundColor:t.alpha((t.vars||t).palette[s].main,(t.vars||t).palette.action.hoverOpacity)},[`&.${Y.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[s].main,(t.vars||t).palette.action.focusOpacity)},[`& .${Y.deleteIcon}`]:{color:t.alpha((t.vars||t).palette[s].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[s].main}}}}))]}})),Bs=ie("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,a)=>{const{ownerState:s}=t,{size:o}=s;return[a.label,a[`label${K(o)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function ja(t){return t.key==="Backspace"||t.key==="Delete"}const Vs=i.forwardRef(function(a,s){const o=Te({props:a,name:"MuiChip"}),{avatar:g,className:d,clickable:p,color:c="default",component:h,deleteIcon:f,disabled:P=!1,icon:C,label:n,onClick:v,onDelete:y,onKeyDown:N,onKeyUp:_,size:R="medium",variant:u="filled",tabIndex:x,skipFocusWhenDisabled:D=!1,slots:Q={},slotProps:z={},...k}=o,S=i.useRef(null),M=Ka(S,s),V=j=>{j.stopPropagation(),y&&y(j)},F=j=>{j.currentTarget===j.target&&ja(j)&&j.preventDefault(),N&&N(j)},I=j=>{j.currentTarget===j.target&&y&&ja(j)&&y(j),_&&_(j)},oe=p!==!1&&v?!0:p,re=oe||y?Qt:h||"div",ce={...o,component:re,disabled:P,size:R,color:c,iconColor:i.isValidElement(C)&&C.props.color||c,onDelete:!!y,clickable:oe,variant:u},m=Hs(ce),O=re===Qt?{component:h||"div",focusVisibleClassName:m.focusVisible,...y&&{disableRipple:!0}}:{};let A=null;y&&(A=f&&i.isValidElement(f)?i.cloneElement(f,{className:xe(f.props.className,m.deleteIcon),onClick:V}):e.jsx(_s,{className:m.deleteIcon,onClick:V}));let Z=null;g&&i.isValidElement(g)&&(Z=i.cloneElement(g,{className:xe(m.avatar,g.props.className)}));let ee=null;C&&i.isValidElement(C)&&(ee=i.cloneElement(C,{className:xe(m.icon,C.props.className)}));const J={slots:Q,slotProps:z},[b,$]=xt("root",{elementType:Us,externalForwardedProps:{...J,...k},ownerState:ce,shouldForwardComponentProp:!0,ref:M,className:xe(m.root,d),additionalProps:{disabled:oe&&P?!0:void 0,tabIndex:D&&P?-1:x,...O},getSlotProps:j=>({...j,onClick:G=>{var ne;(ne=j.onClick)==null||ne.call(j,G),v==null||v(G)},onKeyDown:G=>{var ne;(ne=j.onKeyDown)==null||ne.call(j,G),F(G)},onKeyUp:G=>{var ne;(ne=j.onKeyUp)==null||ne.call(j,G),I(G)}})}),[L,E]=xt("label",{elementType:Bs,externalForwardedProps:J,ownerState:ce,className:m.label});return e.jsxs(b,{as:re,...$,children:[Z||ee,e.jsx(L,{...E,children:n}),A]})});function Gs(t){return Ne("MuiAutocomplete",t)}const q=Pe("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var va,Ca;const Ws=t=>{const{classes:a,disablePortal:s,expanded:o,focused:g,fullWidth:d,hasClearIcon:p,hasPopupIcon:c,inputFocused:h,popupOpen:f,size:P}=t,C={root:["root",o&&"expanded",g&&"focused",d&&"fullWidth",p&&"hasClearIcon",c&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",h&&"inputFocused"],tag:["tag",`tagSize${K(P)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",f&&"popupIndicatorOpen"],popper:["popper",s&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return $e(C,Gs,a)},Ks=ie("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:s}=t,{fullWidth:o,hasClearIcon:g,hasPopupIcon:d,inputFocused:p,size:c}=s;return[{[`& .${q.tag}`]:a.tag},{[`& .${q.tag}`]:a[`tagSize${K(c)}`]},{[`& .${q.inputRoot}`]:a.inputRoot},{[`& .${q.input}`]:a.input},{[`& .${q.input}`]:p&&a.inputFocused},a.root,o&&a.fullWidth,d&&a.hasPopupIcon,g&&a.hasClearIcon]}})({[`&.${q.focused} .${q.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${q.clearIndicator}`]:{visibility:"visible"}},[`& .${q.tag}`]:{margin:3,maxWidth:"calc(100% - 6px)"},[`& .${q.inputRoot}`]:{[`.${q.hasPopupIcon}&, .${q.hasClearIcon}&`]:{paddingRight:30},[`.${q.hasPopupIcon}.${q.hasClearIcon}&`]:{paddingRight:56},[`& .${q.input}`]:{width:0,minWidth:30}},[`& .${Jt.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${Jt.root}.${Ye.sizeSmall}`]:{[`& .${Jt.input}`]:{padding:"2px 4px 3px 0"}},[`& .${ra.root}`]:{padding:9,[`.${q.hasPopupIcon}&, .${q.hasClearIcon}&`]:{paddingRight:39},[`.${q.hasPopupIcon}.${q.hasClearIcon}&`]:{paddingRight:65},[`& .${q.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${q.endAdornment}`]:{right:9}},[`& .${ra.root}.${Ye.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${q.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${lt.root}`]:{paddingTop:19,paddingLeft:8,[`.${q.hasPopupIcon}&, .${q.hasClearIcon}&`]:{paddingRight:39},[`.${q.hasPopupIcon}.${q.hasClearIcon}&`]:{paddingRight:65},[`& .${lt.input}`]:{padding:"7px 4px"},[`& .${q.endAdornment}`]:{right:9}},[`& .${lt.root}.${Ye.sizeSmall}`]:{paddingBottom:1,[`& .${lt.input}`]:{padding:"2.5px 4px"}},[`& .${Ye.hiddenLabel}`]:{paddingTop:8},[`& .${lt.root}.${Ye.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${q.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${lt.root}.${Ye.hiddenLabel}.${Ye.sizeSmall}`]:{[`& .${q.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${q.input}`]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{[`& .${q.tag}`]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{[`& .${q.input}`]:{opacity:1}}},{props:{multiple:!0},style:{[`& .${q.inputRoot}`]:{flexWrap:"wrap"}}}]}),qs=ie("div",{name:"MuiAutocomplete",slot:"EndAdornment"})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Js=ie(Ha,{name:"MuiAutocomplete",slot:"ClearIndicator"})({marginRight:-2,padding:4,visibility:"hidden"}),Ys=ie(Ha,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,a)=>{const{ownerState:s}=t;return[a.popupIndicator,s.popupOpen&&a.popupIndicatorOpen]}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),Xs=ie(La,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,a)=>{const{ownerState:s}=t;return[{[`& .${q.option}`]:a.option},a.popper,s.disablePortal&&a.popperDisablePortal]}})(ye(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}))),Qs=ie(Ot,{name:"MuiAutocomplete",slot:"Paper"})(ye(({theme:t})=>({...t.typography.body1,overflow:"auto"}))),Zs=ie("div",{name:"MuiAutocomplete",slot:"Loading"})(ye(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),eo=ie("div",{name:"MuiAutocomplete",slot:"NoOptions"})(ye(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"}))),to=ie("ul",{name:"MuiAutocomplete",slot:"Listbox"})(ye(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${q.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${q.focused}`]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${q.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),[`&.${q.focused}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${q.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))),ao=ie(ta,{name:"MuiAutocomplete",slot:"GroupLabel"})(ye(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8}))),so=ie("ul",{name:"MuiAutocomplete",slot:"GroupUl"})({padding:0,[`& .${q.option}`]:{paddingLeft:24}}),Ua=i.forwardRef(function(a,s){const o=Te({props:a,name:"MuiAutocomplete"}),{autoComplete:g=!1,autoHighlight:d=!1,autoSelect:p=!1,blurOnSelect:c=!1,ChipProps:h,className:f,clearIcon:P=va||(va=e.jsx($s,{fontSize:"small"})),clearOnBlur:C=!o.freeSolo,clearOnEscape:n=!1,clearText:v="Clear",closeText:y="Close",componentsProps:N,defaultValue:_=o.multiple?[]:null,disableClearable:R=!1,disableCloseOnSelect:u=!1,disabled:x=!1,disabledItemsFocusable:D=!1,disableListWrap:Q=!1,disablePortal:z=!1,filterOptions:k,filterSelectedOptions:S=!1,forcePopupIcon:M="auto",freeSolo:V=!1,fullWidth:F=!1,getLimitTagsText:I=te=>`+${te}`,getOptionDisabled:oe,getOptionKey:re,getOptionLabel:ce,isOptionEqualToValue:m,groupBy:O,handleHomeEndKeys:A=!o.freeSolo,id:Z,includeInputInList:ee=!1,inputValue:J,limitTags:b=-1,ListboxComponent:$,ListboxProps:L,loading:E=!1,loadingText:j="Loadingâ€¦",multiple:G=!1,noOptionsText:ne="No options",onChange:le,onClose:je,onHighlightChange:pt,onInputChange:sa,onOpen:be,open:We,openOnFocus:zt=!1,openText:he="Open",options:oa,PaperComponent:H,PopperComponent:Et,popupIcon:se=Ca||(Ca=e.jsx(qa,{})),readOnly:Le=!1,renderGroup:tt,renderInput:Ct,renderOption:at,renderTags:Re,renderValue:Ke,selectOnFocus:na=!o.freeSolo,size:st="medium",slots:kt={},slotProps:fe={},value:de,...ve}=o,{getRootProps:wt,getInputProps:Se,getInputLabelProps:_t,getPopupIndicatorProps:De,getClearProps:Ce,getItemProps:St,getListboxProps:Ft,getOptionProps:ut,value:_e,dirty:Oe,expanded:qe,id:ke,popupOpen:Me,focused:Fe,focusedItem:Ht,anchorEl:Je,setAnchorEl:It,inputValue:Ut,groupedOptions:ot}=Ms({...o,componentName:"Autocomplete"}),nt=!R&&!x&&Oe&&!Le,mt=(!V||M===!0)&&M!==!1,{onMouseDown:Bt}=Se(),{ref:Vt,...Gt}=Ft(),gt=ce||(te=>te.label??te),ue={...o,disablePortal:z,expanded:qe,focused:Fe,fullWidth:F,getOptionLabel:gt,hasClearIcon:nt,hasPopupIcon:mt,inputFocused:Ht===-1,popupOpen:Me,size:st},me=Ws(ue),He={slots:{paper:H,popper:Et,...kt},slotProps:{chip:h,listbox:L,...N,...fe}},[Kt,ht]=xt("listbox",{elementType:to,externalForwardedProps:He,ownerState:ue,className:me.listbox,additionalProps:Gt,ref:Vt}),[Pt,r]=xt("paper",{elementType:Ot,externalForwardedProps:He,ownerState:ue,className:me.paper}),[l,w]=xt("popper",{elementType:La,externalForwardedProps:He,ownerState:ue,className:me.popper,additionalProps:{disablePortal:z,style:{width:Je?Je.clientWidth:null},role:"presentation",anchorEl:Je,open:Me}});let U;const W=te=>({className:me.tag,disabled:x,...St(te)});if(G?_e.length>0&&(Re?U=Re(_e,W,ue):Ke?U=Ke(_e,W,ue):U=_e.map((te,Ue)=>{const{key:Be,...ft}=W({index:Ue});return e.jsx(Vs,{label:gt(te),size:st,...ft,...He.slotProps.chip},Be)})):Ke&&_e!=null&&(U=Ke(_e,W,ue)),b>-1&&Array.isArray(U)){const te=U.length-b;!Fe&&te>0&&(U=U.splice(0,b),U.push(e.jsx("span",{className:me.tag,children:I(te)},U.length)))}const pe=tt||(te=>e.jsxs("li",{children:[e.jsx(ao,{className:me.groupLabel,ownerState:ue,component:"div",children:te.group}),e.jsx(so,{className:me.groupUl,ownerState:ue,children:te.children})]},te.key)),Nt=at||((te,Ue)=>{const{key:Be,...ft}=te;return e.jsx("li",{...ft,children:gt(Ue)},Be)}),la=(te,Ue)=>{const Be=ut({option:te,index:Ue});return Nt({...Be,className:me.option},te,{selected:Be["aria-selected"],index:Ue,inputValue:Ut},ue)},Tt=He.slotProps.clearIndicator,$t=He.slotProps.popupIndicator;return e.jsxs(i.Fragment,{children:[e.jsx(Ks,{ref:s,className:xe(me.root,f),ownerState:ue,...wt(ve),children:Ct({id:ke,disabled:x,fullWidth:!0,size:st==="small"?"small":void 0,InputLabelProps:_t(),InputProps:{ref:It,className:me.inputRoot,startAdornment:U,onMouseDown:te=>{te.target===te.currentTarget&&Bt(te)},...(nt||mt)&&{endAdornment:e.jsxs(qs,{className:me.endAdornment,ownerState:ue,children:[nt?e.jsx(Js,{...Ce(),"aria-label":v,title:v,ownerState:ue,...Tt,className:xe(me.clearIndicator,Tt==null?void 0:Tt.className),children:P}):null,mt?e.jsx(Ys,{...De(),disabled:x,"aria-label":Me?y:he,title:Me?y:he,ownerState:ue,...$t,className:xe(me.popupIndicator,$t==null?void 0:$t.className),children:se}):null]})}},inputProps:{className:me.input,disabled:x,readOnly:Le,...Se()}})}),Je?e.jsx(Xs,{as:l,...w,children:e.jsxs(Qs,{as:Pt,...r,children:[E&&ot.length===0?e.jsx(Zs,{className:me.loading,ownerState:ue,children:j}):null,ot.length===0&&!V&&!E?e.jsx(eo,{className:me.noOptions,ownerState:ue,role:"presentation",onMouseDown:te=>{te.preventDefault()},children:ne}):null,ot.length>0?e.jsx(Kt,{as:$,...ht,children:ot.map((te,Ue)=>O?pe({key:te.key,group:te.group,children:te.options.map((Be,ft)=>la(Be,te.index+ft))}):la(te,Ue))}):null]})}):null]})}),Ba=i.createContext();function oo(t){return Ne("MuiTable",t)}Pe("MuiTable",["root","stickyHeader"]);const no=t=>{const{classes:a,stickyHeader:s}=t;return $e({root:["root",s&&"stickyHeader"]},oo,a)},lo=ie("table",{name:"MuiTable",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:s}=t;return[a.root,s.stickyHeader&&a.stickyHeader]}})(ye(({theme:t})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...t.typography.body2,padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:a})=>a.stickyHeader,style:{borderCollapse:"separate"}}]}))),ka="table",ro=i.forwardRef(function(a,s){const o=Te({props:a,name:"MuiTable"}),{className:g,component:d=ka,padding:p="normal",size:c="medium",stickyHeader:h=!1,...f}=o,P={...o,component:d,padding:p,size:c,stickyHeader:h},C=no(P),n=i.useMemo(()=>({padding:p,size:c,stickyHeader:h}),[p,c,h]);return e.jsx(Ba.Provider,{value:n,children:e.jsx(lo,{as:d,role:d===ka?null:"table",ref:s,className:xe(C.root,g),ownerState:P,...f})})}),Mt=i.createContext();function io(t){return Ne("MuiTableBody",t)}Pe("MuiTableBody",["root"]);const co=t=>{const{classes:a}=t;return $e({root:["root"]},io,a)},po=ie("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),uo={variant:"body"},wa="tbody",mo=i.forwardRef(function(a,s){const o=Te({props:a,name:"MuiTableBody"}),{className:g,component:d=wa,...p}=o,c={...o,component:d},h=co(c);return e.jsx(Mt.Provider,{value:uo,children:e.jsx(po,{className:xe(h.root,g),as:d,ref:s,role:d===wa?null:"rowgroup",ownerState:c,...p})})});function go(t){return Ne("MuiTableCell",t)}const jt=Pe("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),ho=t=>{const{classes:a,variant:s,align:o,padding:g,size:d,stickyHeader:p}=t,c={root:["root",s,p&&"stickyHeader",o!=="inherit"&&`align${K(o)}`,g!=="normal"&&`padding${K(g)}`,`size${K(d)}`]};return $e(c,go,a)},fo=ie("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:s}=t;return[a.root,a[s.variant],a[`size${K(s.size)}`],s.padding!=="normal"&&a[`padding${K(s.padding)}`],s.align!=="inherit"&&a[`align${K(s.align)}`],s.stickyHeader&&a.stickyHeader]}})(ye(({theme:t})=>({...t.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid
    ${t.palette.mode==="light"?t.lighten(t.alpha(t.palette.divider,1),.88):t.darken(t.alpha(t.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${jt.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:a})=>a.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]}))),Ve=i.forwardRef(function(a,s){const o=Te({props:a,name:"MuiTableCell"}),{align:g="inherit",className:d,component:p,padding:c,scope:h,size:f,sortDirection:P,variant:C,...n}=o,v=i.useContext(Ba),y=i.useContext(Mt),N=y&&y.variant==="head";let _;p?_=p:_=N?"th":"td";let R=h;_==="td"?R=void 0:!R&&N&&(R="col");const u=C||y&&y.variant,x={...o,align:g,component:_,padding:c||(v&&v.padding?v.padding:"normal"),size:f||(v&&v.size?v.size:"medium"),sortDirection:P,stickyHeader:u==="head"&&v&&v.stickyHeader,variant:u},D=ho(x);let Q=null;return P&&(Q=P==="asc"?"ascending":"descending"),e.jsx(fo,{as:_,ref:s,className:xe(D.root,d),"aria-sort":Q,scope:R,ownerState:x,...n})});function xo(t){return Ne("MuiTableContainer",t)}Pe("MuiTableContainer",["root"]);const bo=t=>{const{classes:a}=t;return $e({root:["root"]},xo,a)},yo=ie("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),jo=i.forwardRef(function(a,s){const o=Te({props:a,name:"MuiTableContainer"}),{className:g,component:d="div",...p}=o,c={...o,component:d},h=bo(c);return e.jsx(yo,{ref:s,as:d,className:xe(h.root,g),ownerState:c,...p})});function vo(t){return Ne("MuiTableHead",t)}Pe("MuiTableHead",["root"]);const Co=t=>{const{classes:a}=t;return $e({root:["root"]},vo,a)},ko=ie("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),wo={variant:"head"},Sa="thead",So=i.forwardRef(function(a,s){const o=Te({props:a,name:"MuiTableHead"}),{className:g,component:d=Sa,...p}=o,c={...o,component:d},h=Co(c);return e.jsx(Mt.Provider,{value:wo,children:e.jsx(ko,{as:d,className:xe(h.root,g),ref:s,role:d===Sa?null:"rowgroup",ownerState:c,...p})})});function Io(t){return Ne("MuiTableRow",t)}const Ia=Pe("MuiTableRow",["root","selected","hover","head","footer"]),Po=t=>{const{classes:a,selected:s,hover:o,head:g,footer:d}=t;return $e({root:["root",s&&"selected",o&&"hover",g&&"head",d&&"footer"]},Io,a)},No=ie("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:s}=t;return[a.root,s.head&&a.head,s.footer&&a.footer]}})(ye(({theme:t})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Ia.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Ia.selected}`]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`)}}}))),Pa="tr",Na=i.forwardRef(function(a,s){const o=Te({props:a,name:"MuiTableRow"}),{className:g,component:d=Pa,hover:p=!1,selected:c=!1,...h}=o,f=i.useContext(Mt),P={...o,component:d,hover:p,selected:c,head:f&&f.variant==="head",footer:f&&f.variant==="footer"},C=Po(P);return e.jsx(No,{as:d,ref:s,className:xe(C.root,g),role:d===Pa?null:"row",ownerState:P,...h})}),To=()=>{const t=Ie(n=>n.classic),a=Ee(),[s,o]=i.useState(!1);i.useEffect(()=>{},[]);const g={tid:t.classicdetail._id,title:t.classicdetail.title,organiser:t.classicdetail.organiser,slots:t.classicdetail.slots,type:t.classicdetail.type,banner:t.classicdetail.tournment_banner,logo:t.classicdetail.tournment_logo,status:t.classicdetail.status,visibility:t.classicdetail.visibility,label:t.classicdetail.label},[d,p]=i.useState(g),{handleImage:c}=Fa(),h=n=>{let v=n.target.name,y=n.target.value;p({...d,[v]:y})},f=async n=>{o(!0);let v=0,y="";n=="tournbanner"?v=1:v=2;let N=document.querySelector(`#${n}`).files[0];v==2?N=await c(300,N):N=await c(900,N),v==1?y=d.banner:y=d.logo;let _=new FormData;_.append("tid",d.tid),_.append("filed",n),_.append("image",N),_.append("oldimage",y);const R=localStorage.getItem("token"),u=T.loading("Please wait while Uploading...");try{const x=await fetch("/api/settournamentlogos",{method:"POST",headers:{Authorization:`Bearer ${R}`},body:_}),D=await x.json();console.log(D),x.ok?(v==1?p({...d,banner:D.url}):p({...d,logo:D.url}),T.update(u,{render:"Uploaded Successfully",type:"success",isLoading:!1,autoClose:1600}),o(!1),a(et(t.classicdetail._id))):T.update(u,{render:D.message,type:"warning",isLoading:!1,autoClose:1600})}catch(x){console.log(x),T.update(u,{render:x.message,type:"warning",isLoading:!1,autoClose:1600})}},P=async()=>{o(!0);try{const n=T.loading("Please wait..."),v=localStorage.getItem("token"),y=await fetch("/api/settournament",{method:"POST",headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"},body:JSON.stringify(d)}),N=await y.json();y.ok?(T.update(n,{render:N.message,type:"success",isLoading:!1,autoClose:1600}),o(!1),a(et(t.classicdetail._id))):T.update(n,{render:N.message,type:"warning",isLoading:!1,autoClose:1600}),o(!1)}catch(n){T.update(ide,{render:n.message,type:"warning",isLoading:!1,autoClose:1600}),o(!1),console.log(n)}},C=ie("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"tournawrapper",children:[e.jsxs("div",{className:"tournainfo",children:[e.jsx("h2",{children:"Tournament Info"}),e.jsx(ae,{helperText:"Name of your tournament",id:"demo-helper-text-misaligned",label:"Tournament Name*",sx:{m:1,mt:2},size:"small",value:d.title,name:"title",onChange:h}),e.jsx(ae,{helperText:"Organiser Name of your tournament",id:"demo-helper-text-misaligned",label:"Organiser*",sx:{m:1},size:"small",name:"organiser",value:d.organiser,onChange:h}),e.jsx(ae,{helperText:"Max. Slots for your tournament",id:"demo-helper-text-misaligned",label:"Slots*",sx:{m:1},size:"small",type:"tel",onKeyPress:n=>{/[0-9]/.test(n.key)||n.preventDefault()},name:"slots",value:d.slots,onChange:h}),e.jsxs(Xe,{size:"small",sx:{m:1,mb:1.5,Width:"98%"},children:[e.jsx(Qe,{id:"demo-simple-select-helper-label",children:"Type*"}),e.jsxs(Ze,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:d.type,label:"type ",name:"type",onChange:h,children:[e.jsx(B,{value:"classic",children:"Classic"}),e.jsx(B,{value:"tdm",children:"TDM"})]}),e.jsx(Rt,{children:"The type: Classic or TDM"})]}),e.jsxs(Xe,{size:"small",sx:{m:1,mb:1.5,Width:"96%"},children:[e.jsx(Qe,{id:"demo-simple-select-helper-label",children:"Status*"}),e.jsxs(Ze,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:d.status,label:"Status",name:"status",onChange:h,children:[e.jsx(B,{value:"upcoming",children:"UPCOMING"}),e.jsx(B,{value:"ongoing",children:"ONGOING"}),e.jsx(B,{value:"completed",children:"COMPLETED"})]}),e.jsx(Rt,{children:"Status of your tournament"})]}),e.jsxs(Xe,{size:"small",sx:{m:1,mb:1.5,Width:"96%"},children:[e.jsx(Qe,{id:"demo-simple-select-helper-label",children:"Visibility*"}),e.jsxs(Ze,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:d.visibility,label:"Visibility",name:"visibility",onChange:h,children:[e.jsx(B,{value:!0,children:"PUBLISHED"}),e.jsx(B,{value:!1,children:"HIDDEN"})]}),e.jsx(Rt,{children:"Tournament visible to Public in 'Find Tournament' Section?"})]}),e.jsx(ae,{helperText:"Add labels to your tournament, keep it short",id:"demo-helper-text-misaligned",label:"Label",sx:{m:1},inputProps:{maxLength:27},size:"small",name:"label",value:d.label,onChange:h}),e.jsx(X,{loading:s,loadingPosition:"start",startIcon:e.jsx(Ge,{}),variant:"contained",onClick:P,children:"UPDATE"})]}),e.jsx("div",{className:"right",children:e.jsxs("div",{className:"logos",children:[e.jsxs("div",{className:"tourn_banner",children:[e.jsx("h2",{children:"Tournament Banner"}),d.banner?e.jsx("img",{src:bt(d==null?void 0:d.banner,{format:"webp",width:600}),alt:"banner"}):e.jsx("h3",{children:"No Banner has been uploaded for the tournament"}),e.jsxs(X,{disabled:s,component:"label",size:"small",variant:"contained",startIcon:e.jsx(Ge,{}),children:["Upload",e.jsx(C,{accept:"image/*",type:"file",id:"tournbanner",onChange:()=>f("tournbanner")})]}),e.jsx("p",{children:"*A cover image for the tournament.This will shown on Public Post"})]}),e.jsxs("div",{className:"tourna_logo",children:[e.jsx("h2",{children:"Tournament Logo"}),d.logo?e.jsx("img",{src:bt(d==null?void 0:d.logo,{format:"webp"}),alt:"logo"}):e.jsx("h3",{children:"No Logo has been uploaded for the tournament"}),e.jsxs(X,{disabled:s,component:"label",size:"small",variant:"contained",startIcon:e.jsx(Ge,{}),children:["Upload",e.jsx(C,{accept:"image/*",type:"file",id:"tournlogo",onChange:()=>f("tournlogo")})]}),e.jsx("p",{children:"*Tips: The Image should be in Square"})]})]})})]})})},$o=({all:t,handleChange:a,submit:s,isloading:o})=>{i.useEffect(()=>{},[]);const g=p=>{if(p.preventDefault(),!t.description||t.description.trim()===""){T.warn("Description is required",{autoClose:2900});return}if(t.show_payment){if(!t.upi_id||t.upi_id.trim()===""){T.warn("UPI ID is required when payment is enabled",{autoClose:2900});return}if(!t.amount||isNaN(t.amount)||Number(t.amount)<=0){T.warn("Please enter a valid payment amount",{autoClose:2900});return}}if(!t.minimum_players||isNaN(t.minimum_players)||Number(t.minimum_players)<1||Number(t.minimum_players)>10){T.warn("Minimum players must be between 1 and 10",{autoClose:2900});return}if(!t.maximum_players||isNaN(t.maximum_players)||Number(t.maximum_players)<t.minimum_players||Number(t.maximum_players)>10){T.warn("Maximum players must be between minimum players and 10",{autoClose:3900});return}s()},d=(p,c)=>e.jsxs(ze,{display:"flex",alignItems:"center",justifyContent:"space-between",sx:{mb:1,px:1},children:[e.jsx(ia,{children:p}),e.jsx(ks,{checked:!!t[c],onChange:h=>a({target:{name:c,value:h.target.checked}}),color:"success"})]});return e.jsxs("div",{className:"maine",children:[e.jsx("h2",{children:"Form Setting"}),e.jsxs(ze,{className:"box",component:"form",sx:{"& .MuiTextField-root":{m:1}},onSubmit:g,autoComplete:"off",children:[e.jsx(ia,{children:"Registration Open"}),e.jsxs(ys,{sx:{mb:2},row:!0,name:"isopen",value:t.isopen,onChange:a,children:[e.jsx(ga,{value:!0,control:e.jsx(ma,{}),label:"Open"}),e.jsx(ga,{value:!1,control:e.jsx(ma,{}),label:"Closed"})]}),e.jsx(ae,{label:"Description",multiline:!0,name:"description",size:"small",className:"taxi",rows:7,required:!0,inputProps:{style:{fontSize:"11px",lineHeight:"12px"}},onChange:a,value:t.description,helperText:"Add description or message to show on registration page."}),e.jsx(ae,{label:"Success Message",multiline:!0,size:"small",className:"taxi",name:"success_message",inputProps:{style:{fontSize:11}},rows:1,onChange:a,value:t.success_message,helperText:"Add message to show after successful registration"}),e.jsx("h3",{children:"Options:"}),d("Ask for Email","ask_email"),d("Ask for Phone Number","ask_phone"),d("Ask for Discord ID","ask_discord"),d("Ask for Team Logo","ask_teamlogo"),d("Ask for Player Logo","ask_playerlogo"),d("Ask for Payment Screenshot Upload","ask_payment_ss"),d("Show Payment Option","show_payment"),t.show_payment&&e.jsxs(e.Fragment,{children:[e.jsx(ae,{label:"UPI ID",className:"taxi",name:"upi_id",size:"small",required:!0,value:t.upi_id,onChange:a,helperText:"Enter UPI ID to receive payment"}),e.jsx(ae,{label:"Amount",type:"tel",className:"taxi",required:!0,onKeyPress:p=>{/[0-9]/.test(p.key)||p.preventDefault()},value:t.amount,name:"amount",size:"small",onChange:a,helperText:"Enter amount to be received"})]}),e.jsx(ae,{label:"Minimum Players",type:"tel",className:"taxi",required:!0,onKeyPress:p=>{/[0-9]/.test(p.key)||p.preventDefault()},value:t.minimum_players,name:"minimum_players",size:"small",inputProps:{min:1,max:10},onChange:a,helperText:"Minimum number of players to register (1â€“10)."}),e.jsx(ae,{label:"Maximum Players",type:"tel",className:"taxi",required:!0,onKeyPress:p=>{/[0-9]/.test(p.key)||p.preventDefault()},value:t.maximum_players,name:"maximum_players",size:"small",inputProps:{min:1,max:10},onChange:a,helperText:"Maximum number of players to register (1â€“10)."}),e.jsx(X,{variant:"contained",type:"submit",disabled:o,startIcon:e.jsx(Ra,{}),sx:{mt:2,bgcolor:o?"grey.400":"primary.main","&:hover":{bgcolor:o?"grey.400":"primary.dark"}},children:o?"Saving...":"Save"})]})]})},At=({teamarray:t,statuschange:a,callfrom:s,deletee:o,edetee:g,showss:d,decline:p})=>{const c=n=>{p(n)};i.useEffect(()=>{},[]);const h="https://res.cloudinary.com/dusxlxlvm/image/upload/v1718950087/battlefiesta/assets/icon/group_a3fhyv.webp",f="https://res.cloudinary.com/dusxlxlvm/image/upload/v1718950087/battlefiesta/assets/icon/group1_oxfqan.webp",P="https://res.cloudinary.com/dusxlxlvm/image/upload/v1718950087/battlefiesta/assets/icon/user_p5egd9.webp",C=async n=>{if(n.newEntry){const v=localStorage.getItem("token");try{const N=await(await fetch("/api/classicseen",{method:"POST",headers:{Authorization:`Bearer ${v}`,"Content-Type":"application/json"},body:JSON.stringify({tid:n.tournament_id})})).json();console.log(N)}catch(y){console.log(y)}}};return e.jsx(e.Fragment,{children:t.length>0&&t.map((n,v)=>e.jsxs(Da,{style:{borderRadius:"10px",overflow:"hidden"},sx:{mb:1},children:[e.jsxs(Oa,{expandIcon:e.jsx(Ja,{}),"aria-controls":"panel1-content",id:"panel1-header",className:`header ${n.status}`,onClick:()=>C(n),sx:{background:n.newEntry?"rgba(6, 146, 6, 0.218)":""},children:[e.jsx(Dt,{variant:"dot",color:"error",invisible:!n.newEntry,children:e.jsx("img",{src:bt(n==null?void 0:n.teamLogo,{format:"webp"})||h,alt:"Team logo"})},v),e.jsxs("p",{className:" text-lg",children:[n.teamName," "]})]}),e.jsxs(Ma,{className:"details",sx:{pb:1},children:[e.jsxs("div",{className:"teamdata",children:[e.jsxs("div",{className:"imageside",children:[e.jsx("img",{src:bt(n==null?void 0:n.teamLogo,{format:"webp"})||f,alt:"teamLogo"}),e.jsxs("div",{className:"icon",children:[e.jsx("a",{href:`mailto:${n.email}`,target:"_blank",children:e.jsx(ca,{title:"Email"})}),e.jsx("a",{href:`tel:${n.mobile}`,target:"_blank",children:e.jsx(Zt,{title:"Phone"})}),e.jsx("a",{href:`https://wa.me/+91${n.mobile}`,target:"_blank",children:e.jsx(Ya,{title:"Whatsapp"})})]}),n.screenss&&e.jsxs("div",{className:"payss",onClick:()=>d(n.screenss),children:[e.jsx(Xa,{}),"Payment S.S"]})]}),e.jsxs("div",{className:"teamside",children:[e.jsxs("span",{children:[" ",e.jsxs("span",{children:[e.jsx(ws,{})," "]})," ",e.jsxs("span",{children:[": ",n==null?void 0:n.teamName]})]}),e.jsxs("span",{children:[" ",e.jsxs("span",{children:[e.jsx(ca,{})," "]})," ",e.jsxs("span",{children:[": ",(n==null?void 0:n.email)||"N/A"]})]}),e.jsxs("span",{children:[" ",e.jsxs("span",{children:[e.jsx(Zt,{})," "]})," ",e.jsxs("span",{children:[": ",(n==null?void 0:n.mobile)||"N/A"]})]}),e.jsxs("span",{children:[" ",e.jsxs("span",{children:[e.jsx(Qa,{})," "]})," ",e.jsxs("span",{children:[": ",(n==null?void 0:n.discordID)||"N/A"]})]})]})]}),e.jsxs("div",{className:"playerdata",children:[e.jsx("h2",{children:"Player List : "}),n.player.map((y,N)=>e.jsxs("div",{children:[e.jsx("span",{children:e.jsx("img",{src:bt(y==null?void 0:y.playerLogo,{format:"webp"})||P,alt:"playerLogo"})}),e.jsx("span",{children:(y==null?void 0:y.inGameName)||"N/A"}),e.jsx("span",{children:(y==null?void 0:y.inGameID)||"N/A"})]},N)),e.jsxs("div",{children:[s=="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(X,{title:"Approve this team",sx:{padding:1,margin:0,lineHeight:0},size:"small",onClick:()=>a(n._id,"approved"),color:"success",variant:"outlined",startIcon:e.jsx(da,{}),children:"Approve"}),e.jsx(X,{sx:{padding:1,margin:0,lineHeight:0},color:"error",onClick:()=>c(n._id),variant:"outlined",startIcon:e.jsx(pa,{}),children:"Reject"})]}),s=="Approved"&&e.jsxs(e.Fragment,{children:[e.jsx(X,{sx:{padding:1,margin:0,lineHeight:0},onClick:()=>a(n._id,"pending"),color:"warning",variant:"outlined",startIcon:e.jsx(ua,{}),children:"Pending"}),e.jsx(X,{sx:{padding:1,margin:0,lineHeight:0},color:"error",onClick:()=>c(n._id),variant:"outlined",startIcon:e.jsx(pa,{}),children:"Reject"})]}),s=="Rejected"&&e.jsxs(e.Fragment,{children:[e.jsx(X,{sx:{padding:1,margin:0,lineHeight:0},onClick:()=>a(n._id,"pending"),color:"warning",variant:"outlined",startIcon:e.jsx(ua,{size:15}),children:"Pending"}),e.jsx(X,{title:"Approve this team",sx:{padding:1,margin:0,lineHeight:0},onClick:()=>a(n._id,"approved"),color:"success",variant:"outlined",startIcon:e.jsx(da,{}),children:"Approve"}),e.jsx(X,{title:"Delete this team (if deleted, this team will not show in the list)",sx:{padding:1,margin:0,lineHeight:0},color:"error",onClick:()=>o(n._id),variant:"outlined",startIcon:e.jsx(ct,{}),children:"Delete"})]}),s=="manageteam"&&e.jsxs(e.Fragment,{children:[e.jsx(X,{title:"Delete this team (if deleted, this team will not show in the list)",sx:{padding:1,margin:0,lineHeight:0},color:"error",onClick:()=>o(n._id),variant:"outlined",startIcon:e.jsx(ct,{}),children:"Delete"}),e.jsx(X,{title:"Edit this team",sx:{padding:1,margin:0,lineHeight:0},color:"primary",onClick:()=>g(n),variant:"outlined",startIcon:e.jsx(Za,{}),children:"Edit"})]})]})]})]}),n.status=="rejected"&&e.jsx(ae,{id:"outlined-multiline-flexible",label:"Reason of Rejection  ..",multiline:!0,color:"error",focused:!0,inputProps:{style:{fontSize:14}},InputLabelProps:{style:{fontSize:18}},value:n.reason||"your Fault",maxRows:6,sx:{minWidth:"96%",my:1,ml:1}})]},v))})},Lo=({decline:t,pendingplayer:a,statuschange:s,showss:o})=>(i.useEffect(()=>{},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"pendingList",children:a.length>0?e.jsxs("div",{className:"box",children:[e.jsx("h2",{children:"Team List:"}),e.jsx(At,{decline:t,teamarray:a,showss:o,statuschange:s,callfrom:"pending"})]}):e.jsxs("div",{className:"middle mx-2 rounded-2xl border border-dashed p-2 h-fit",children:[e.jsxs("div",{className:"  flex justify-center ",children:[" ",e.jsx(vt,{className:"emoji"})," "]}),e.jsx("strong",{children:"Nothing To Show"}),e.jsx("p",{children:"The List is Empty. Form Resposes will start to appear once teams starts Registering"})]})})})),Ro=({approvedPlayer:t,statuschange:a,showss:s,decline:o})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"approvedList",children:t.length>0?e.jsxs("div",{className:"box",children:[e.jsx("h2",{children:"Team List:"}),e.jsx(At,{teamarray:t,decline:o,statuschange:a,callfrom:"Approved",showss:s})]}):e.jsxs("div",{className:"middle mx-2 rounded-2xl border border-dashed p-2 h-fit",children:[e.jsxs("div",{className:"  flex justify-center ",children:[" ",e.jsx(vt,{className:"emoji"})," "]}),e.jsx("strong",{children:"Nothing To Show"}),e.jsx("p",{children:"The List is Empty. List will start to appear once You Approve Teams"})]})})}),Do=({rejectedplayer:t,statuschange:a,showss:s,decline:o})=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"rejectedlist",children:t.length>0?e.jsxs("div",{className:"box",children:[e.jsx("h2",{children:"Team List:"}),e.jsx(At,{teamarray:t,decline:o,statuschange:a,callfrom:"Rejected",showss:s})]}):e.jsxs("div",{className:"middle mx-2 rounded-2xl border border-dashed p-2 h-fit",children:[e.jsxs("div",{className:"  flex justify-center ",children:[" ",e.jsx(vt,{className:"emoji"})," "]}),e.jsx("strong",{children:"Nothing To Show"}),e.jsx("p",{children:"The List is Empty. List will start to appear once You Reject Teams"})]})})}),Oo=({all:t})=>{const a=Ee(),s={link:Array(1).fill({linkName:"",linkType:"",link:""})},{tid:o}=dt(),[g,d]=i.useState(!1),[p,c]=i.useState(s.link),[h,f]=i.useState(t.publicpost);i.useEffect(()=>{P()},[]);const P=()=>{if(t.links.length>0){let R=[];t.links.map(u=>{let x={linkName:u.linkName,linkType:u.linkType,link:u.link};R.push(x)}),c(R)}},C=()=>{c([...p,{linkName:"",linkType:"",link:""}])},n=R=>{let u=p.filter((x,D)=>R!=D);c(u)},v=(R,u,x)=>{let D=[...p];D[u]={...D[u],[x]:R.target.value},c(D)},y=async R=>{R.preventDefault(),d(!0);const u=localStorage.getItem("token");try{const x=await fetch("/api/updatetournamentformcontacts",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({tid:t.tournament_id,links:p,publicpost:h})}),D=await x.json();if(!x.ok){T.warn(D.message,{autoClose:1300}),d(!1);return}a(et(o)),d(!1),T.success(D.message,{autoClose:1800})}catch(x){T.warn(x.message,{autoClose:1800}),console.log(x)}},N=(R,u)=>{let x=u=="dec"?R+1:R-1;const D=[...p],Q=D.splice(R,1)[0];D.splice(x,0,Q),c(D)};let _={whatsapp:"Provide Whatsapp No.",instagram:"Provide only Instagram userId (not full Link)",phone:"Provide phone no.",link:"Provide Website Link",email:"Provide Email"};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"contactinfo",children:e.jsx("div",{className:"form",children:e.jsxs("form",{onSubmit:y,children:[e.jsx(ae,{id:"outlined-multiline-static",label:"Public Post",multiline:!0,inputProps:{style:{fontSize:11,lineHeight:"12px"}},value:h,onChange:R=>f(R.target.value),sx:{width:"98%",mt:1,mb:1},rows:10}),e.jsx("h2",{children:"Contact Links"}),p.map((R,u)=>e.jsxs("section",{children:[e.jsxs(Ae,{direction:"row",spacing:2,children:[e.jsxs(Xe,{sx:{width:"50%"},size:"small",children:[e.jsx(Qe,{id:"demo-simple-select-label",children:"Link Type"}),e.jsxs(Ze,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:p[u].linkType,label:"Link Type",required:!0,onChange:x=>v(x,u,"linkType"),children:[e.jsx(B,{value:"whatsapp",children:" Whatsapp No."}),e.jsx(B,{value:"instagram",children:"Instagram"}),e.jsx(B,{value:"phone",children:"Phone"}),e.jsx(B,{value:"link",children:" Link"}),e.jsx(B,{value:"email",children:"Email"})]})]}),e.jsx(ae,{size:"small",required:!0,value:R.linkName,onChange:x=>v(x,u,"linkName"),sx:{width:"50%"},id:"outlined-basic",label:"Link Name",variant:"outlined"})]}),e.jsx(Ae,{direction:"row",sx:{mt:2},spacing:2,children:e.jsx(ae,{required:!0,value:R.link,onChange:x=>v(x,u,"link"),fullWidth:!0,id:"outlined-basic",onKeyPress:x=>{(p[u].linkType==="whatsapp"||p[u].linkType==="phone")&&!/[0-9]/.test(x.key)&&x.preventDefault()},inputProps:{maxLength:p[u].linkType==="whatsapp"||p[u].linkType==="phone"?10:void 0},type:p[u].linkType==="whatsapp"||p[u].linkType==="phone"?"tel":"text",label:_[p[u].linkType],helperText:R.link?`Just ${_[p[u].linkType]}`:"",FormHelperTextProps:{style:{color:p[u].linkType==="phone"&&p[u].link.length!==10?"red":"#0abde3"}},size:"small",color:p[u].linkType=="phone"&&p[u].link.length!=10?"error":"primary",variant:"outlined"})}),e.jsxs(Ae,{direction:"row",sx:{mt:1},spacing:2,children:[e.jsx(ct,{title:"Delete Field",className:"options",onClick:()=>n(u)}),e.jsx(es,{title:"Move Down",className:"options",onClick:()=>N(u,"dec")}),e.jsx(ts,{title:"Move Up",className:"options",onClick:()=>N(u,"inc")})]})]},u)),e.jsx(Ae,{direction:"row",sx:{mt:1},spacing:2,children:e.jsx(X,{size:"small",startIcon:e.jsx(as,{}),onClick:C,variant:"outlined",children:"ADD"})}),e.jsx(Ae,{direction:"row",sx:{mt:1},spacing:2,children:e.jsx(X,{type:"submit",loading:g,loadingPosition:"start",startIcon:e.jsx(Aa,{}),variant:"contained",children:"SUBMIT"})})]})})})})},Mo=({showss:t})=>{const a=Ee(),{tid:s}=dt(),o=Ie(m=>m.classic),[g,d]=i.useState(o.classicsetting),[p,c]=i.useState(!1);i.useEffect(()=>{},[]);const h=i.useRef(null);i.useEffect(()=>{const m=A=>{h.current&&(A.preventDefault(),h.current.scrollLeft+=A.deltaY)},O=h.current;return O.addEventListener("wheel",m),()=>{O.removeEventListener("wheel",m)}},[]),i.useEffect(()=>{R(o.classicplayers)},[o.classicplayers]),i.useEffect(()=>{d(o.classicsetting)},[o.classicsetting]);const[f,P]=i.useState(0),[C,n]=i.useState([]),[v,y]=i.useState([]),[N,_]=i.useState([]),R=m=>{const O=m.filter((ee,J)=>ee.status=="pending");n(O);const A=m.filter((ee,J)=>ee.status=="approved");y(A);const Z=m.filter((ee,J)=>ee.status=="rejected");_(Z)},u=m=>{let O=m.target.name,A=m.target.value;m.target.value=="true"&&(A=!0),m.target.value=="false"&&(A=!1),d({...g,[O]:A})},x=async m=>{c(!0);const O=T.loading("Please wait...");await Cs("/api/updatetournamentform","POST",g,b=>{T.update(O,{render:b.message,type:"success",isLoading:!1,autoClose:1600}),c(!1)})},D=m=>{let O=document.querySelectorAll(".form_setting .control div");for(let A=0;A<O.length;A++)O[A].classList.remove("active");P(m),O[m].classList.add("active")},Q=async(m,O,A)=>{const Z=A||"",ee=localStorage.getItem("token"),J=T.loading("Please wait...");try{const b=await fetch("/api/updateteamstatus",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify({teamID:m,value:O,reasone:Z})}),$=await b.json();if(!b.ok)return T.update(J,{render:$.message,type:"warning",isLoading:!1,autoClose:1600});a(et(s)),T.update(J,{render:$.message,type:"success",isLoading:!1,autoClose:1600})}catch(b){console.log(b),T.update(J,{render:b.message,type:"warning",isLoading:!1,autoClose:1600})}},[z,k]=i.useState(!1),S=()=>{k(!1)},[M,V]=i.useState(""),[F,I]=i.useState(""),oe=m=>{I(m.target.value)},re=m=>{V(m),I(""),k(!0)},ce=()=>{if(F==="")return T.warn("Enter Reason",{autoClose:1800});Q(M,"rejected",F),k(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"form_setting",children:[e.jsxs("div",{className:"control",ref:h,children:[e.jsxs("div",{className:"active",onClick:()=>D(0),children:[e.jsx(za,{}),e.jsx("h3",{children:"Setting"})]}),e.jsxs("div",{onClick:()=>D(1),children:[e.jsx(Zt,{}),e.jsx("h3",{children:"Contact Info"})]}),e.jsxs("div",{onClick:()=>D(2),children:[e.jsx(ss,{}),e.jsx(Dt,{min:1,badgeContent:C.length,color:"warning",children:e.jsx("h3",{children:"Pending Â "})})]}),e.jsxs("div",{onClick:()=>D(3),children:[e.jsx(os,{}),e.jsx(Dt,{badgeContent:v.length,color:"success",children:e.jsx("h3",{children:"Approved Â "})})]}),e.jsxs("div",{onClick:()=>D(4),children:[e.jsx(ns,{}),e.jsx(Dt,{badgeContent:N.length,color:"error",children:e.jsx("h3",{children:"Rejected Â "})})]})]}),f==0&&e.jsx($o,{isloading:p,all:g,handleChange:u,submit:x}),f==1&&e.jsx(Oo,{all:g,handleChange:u,submit:x}),f==2&&e.jsx(Lo,{decline:re,showss:t,statuschange:Q,pendingplayer:C}),f==3&&e.jsx(Ro,{decline:re,showss:t,statuschange:Q,approvedPlayer:v}),f==4&&e.jsx(Do,{decline:re,showss:t,statuschange:Q,rejectedplayer:N}),e.jsx(Ea,{shadow:!1,open:z,onClose:S,children:e.jsxs("div",{className:"dashboardbox",style:{background:"white"},children:[e.jsxs(Ss,{children:[e.jsx(js,{children:"Kindly Submit reason , why you are decining or Rejecting the Team"}),e.jsx(ae,{autoFocus:!0,required:!0,margin:"dense",id:"name",name:"reason",label:"Reason",type:"text",fullWidth:!0,value:F,variant:"standard",onChange:oe})]}),e.jsxs(vs,{children:[e.jsx(X,{onClick:S,children:"Cancel"}),e.jsx(X,{onClick:ce,children:"Submit"})]})]})})]})})},Ao=()=>{const t=Ie(m=>m.classic),[a,s]=i.useState(t.classicdetail),[o,g]=i.useState([]);a._id;const[d,p]=i.useState(""),[c,h]=i.useState([]),[f,P]=i.useState(),[C,n]=i.useState([]),[v,y]=i.useState([]),[N,_]=i.useState(!1),R={killpts:a.killpoints||1,placepoints:a.pointsystem,tiepreference:a.tiepreference};i.useEffect(()=>{x(t.classicplayers)},[t.classicplayers]),i.useEffect(()=>{D()},[o]);const u=m=>{p(m.target.value)},x=m=>{let O=m.filter((A,Z)=>A.status=="approved");g(O)},D=()=>{if(o.length>0){const m=o.map(O=>({label:O.teamName,teamid:O._id,players:O.player.map((A,Z)=>({id:Z,kills:0,inGameName:A.inGameName,playerId:A.playerId}))}));h(m)}},[Q,z]=i.useState(1),k=(m,O)=>{P(O)};function S(m,O,A,Z,ee,J,b){return{team:m,place:O,placepts:A,killpts:Z,total:ee,teamid:J,playerKills:b}}function M(m,O,A,Z,ee){return{place:m,team:O,kills:A,teamid:Z,playerKills:ee}}const V=async()=>{if(!f){T.error("Please select a team");return}const m=c.filter(E=>E.teamid!=f.teamid);h(m);let O=f.players.reduce((E,j)=>E+(j.kills||0),0);O=O*R.killpts;let A=O+parseInt(R.placepoints[Q]),Z=parseInt(R.placepoints[Q]);const ee=S(f.label,Q,Z,O,A,f.teamid,f.players),J=f.players.reduce((E,j)=>E+(j.kills||0),0),b=M(Q,f.label,J,f.teamid,f.players);y([...v,b]);let L=[...C,ee].sort(F);n(L),P(null),z(Q+1)};function F(m,O){return m.total!==O.total?O.total-m.total:R.tiepreference?O.killpts-m.killpts:m.killpts-O.killpts}const I=()=>{const m=C[C.length-1],O=C.filter((J,b)=>b!=C.length-1);n(O);const A=v.filter((J,b)=>b!=v.length-1);y(A);const Z=o.filter(J=>J._id==m.teamid),ee={label:Z[0].teamName,teamid:Z[0]._id,players:Z[0].player.map((J,b)=>({id:b,kills:0,inGameName:J.inGameName,playerId:J.playerId}))};h([...c,ee]),z(Q-1)},oe=ie(Ve)(({theme:m})=>({[`&.${jt.head}`]:{backgroundColor:m.palette.common.black,color:m.palette.common.white},[`&.${jt.body}`]:{fontSize:14}})),re=async()=>{const m=a._id,O=a.userid,A=d,Z=v;if(!A)return T.warn("Select Map",{autoClose:1500});try{_(!0);const ee=T.loading("Please wait..."),J=localStorage.getItem("token"),b=await fetch("/api/addmatches",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${J}`},body:JSON.stringify({tid:m,userid:O,map:A,points:Z})}),$=await b.json();if(_(!1),!b.ok)return T.update(ee,{render:$.message,type:"warning",isLoading:!1,autoClose:1600});n([]),T.update(ee,{render:$.message,type:"success",isLoading:!1,autoClose:1600})}catch(ee){console.log(ee),_(!1),T.update(id,{render:ee.message,type:"warning",isLoading:!1,autoClose:1600})}},ce=()=>{z(1),D(),n([])};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"enterresult",children:e.jsxs("div",{className:"box",children:[e.jsx("h2",{children:"Match Info"}),e.jsxs(Xe,{sx:{m:1,minWidth:"98%"},size:"small",children:[e.jsx(Qe,{id:"demo-select-small-label",children:"Map"}),e.jsxs(Ze,{labelId:"demo-select-small-label",id:"demo-select-small",value:d,label:"Map",required:!0,onChange:u,children:[e.jsx(B,{disabled:!0,value:"",children:e.jsx("em",{children:"-------PUBG/BGMI Maps-------"})}),e.jsx(B,{value:"Erangle",children:"Erangle"}),e.jsx(B,{value:"Livik",children:"Livik"}),e.jsx(B,{value:"Miramar",children:"Miramar"}),e.jsx(B,{value:"Vikendi",children:"Vikendi"}),e.jsx(B,{value:"Sanhok",children:"Sanhok"}),e.jsx(B,{value:"Karakin",children:"Karakin"}),e.jsx(B,{value:"Nusa",children:"Nusa"}),e.jsx(B,{disabled:!0,value:"",children:e.jsx("em",{children:"-------FreeFire Maps-------"})}),e.jsx(B,{value:"Bermuda",children:"Bermuda"}),e.jsx(B,{value:"Purgatory",children:"Purgatory"}),e.jsx(B,{value:"Kalahari",children:"Kalahari"}),e.jsx(B,{value:"Alpine",children:"Alpine"}),e.jsx(B,{value:"Nexterra",children:"Nexterra"}),e.jsx(B,{disabled:!0,value:"",children:e.jsx("em",{children:"-------PUBG LITE Maps-------"})}),e.jsx(B,{value:"VARENGA",children:"VARENGA"}),e.jsx(B,{value:"GOLDEN WOODS",children:"GOLDEN WOODS"})]}),e.jsx(it,{variant:"middle"}),e.jsxs(jo,{component:Ot,sx:{mt:2,mb:2},children:[e.jsx("h2",{children:"Current Match Standings"}),e.jsxs(ro,{sx:{maxWidth:"98%"},"aria-label":"simple table",children:[e.jsx(So,{sx:{color:"grey",background:"red",colorAdjust:"white"},children:e.jsxs(Na,{children:[e.jsx(oe,{children:"#"}),e.jsx(oe,{align:"left",children:"Team"}),e.jsx(oe,{align:"center",children:"Place"}),e.jsx(oe,{align:"center",children:"Place Pts"}),e.jsx(oe,{align:"center",children:"Kill Pts"}),e.jsx(oe,{align:"center",children:"Total"})]})}),e.jsx(mo,{children:C.map((m,O)=>e.jsxs(Na,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[e.jsx(Ve,{component:"th",scope:"row",children:O+1}),e.jsx(Ve,{align:"left",children:m.team}),e.jsx(Ve,{align:"center",children:m.place}),e.jsx(Ve,{align:"center",children:m.placepts}),e.jsx(Ve,{align:"center",children:m.killpts}),e.jsx(Ve,{align:"center",children:m.total})]},O))})]}),C.length>0&&e.jsx(X,{onClick:I,variant:"contained",sx:{m:1,maxWidth:110,background:"black"},startIcon:e.jsx(ea,{}),children:"UNDO"})]}),e.jsx(it,{variant:"middle"}),e.jsx("h2",{children:"Enter Results"}),e.jsxs("h2",{children:["PLACE #",Q]}),e.jsx(Ua,{disablePortal:!0,id:"combo-box-demo",options:c,sx:{mt:1,width:300},onChange:k,noValidate:!0,renderInput:m=>e.jsx(ae,{...m,label:"Team Name"})}),e.jsx("br",{}),f&&e.jsx("h3",{children:"Players:"}),e.jsx(ze,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch",mb:2}},noValidate:!0,autoComplete:"off",children:f&&f.players.map((m,O)=>e.jsx(ae,{helperText:"Leave Empty for 0",type:"tel",onPaste:A=>{const Z=A.clipboardData.getData("Text");/^[0-9]*$/.test(Z)||A.preventDefault()},onKeyPress:A=>{/[0-9]/.test(A.key)||A.preventDefault()},sx:{m:1,maxWidth:140},label:m.inGameName,variant:"outlined",onChange:A=>{const Z=f.players.map((ee,J)=>J===O?{...ee,kills:parseInt(A.target.value)}:ee);P({...f,players:Z})}},O))}),f&&e.jsx(X,{onClick:V,variant:"contained",sx:{m:1,maxWidth:110},startIcon:e.jsx(aa,{}),children:"Add"}),e.jsx(it,{variant:"middle"}),e.jsxs(ze,{display:"flex",justifyContent:"center",alignItems:"center",children:[e.jsx(X,{sx:{m:1,minWidth:110},onClick:re,loading:N,loadingPosition:"start",startIcon:e.jsx(Ge,{}),variant:"contained",size:"small",children:"Save To Cloud"}),e.jsx(X,{size:"small",startIcon:e.jsx(ea,{}),onClick:ce,variant:"outlined",color:"warning",sx:{m:1,maxWidth:110},children:"Reset"})]})]})]})})})},zo=({teamdetail:t,setcalledit:a})=>{const s="https://res.cloudinary.com/dusxlxlvm/image/upload/v1718950087/battlefiesta/assets/icon/group1_oxfqan.webp",o="https://res.cloudinary.com/dusxlxlvm/image/upload/v1718950087/battlefiesta/assets/icon/user_p5egd9.webp",g=Ee(),{handleImage:d}=Fa(),p=ie("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),[c,h]=i.useState({userid:"",tournament_id:"",teamname:"",teamemail:"",teammobile:"",teamdiscord:"",selectedTeamLogo:"",players:Array(1).fill({inGameName:"",inGameID:"",playerLogo:""})}),[f,P]=i.useState(!1);i.useEffect(()=>{console.log(t),h({userid:t.userid,tournament_id:t.tournament_id,teamname:t.teamName,teamemail:t.email,teammobile:t.mobile,teamdiscord:t.discordID,selectedTeamLogo:t.teamLogo,players:t.player.map((k,S)=>k)})},[]);const C={tid:"",userid:"",title:"",organiser:"",status:"",tourna_banner:"",tourna_logo:"",id:"",isopen:"",description:"",success_msg:"",ask_email:"",ask_phone:"",ask_discord:"",ask_team_logo:"",ask_player_logo:"",ask_payment_ss:"",min_player:2,max_player:5},[n,v]=i.useState(C);function y(){const k="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let S="";for(let M=0;M<18;M++){const V=Math.floor(Math.random()*k.length);S+=k.charAt(V)}return S}const N=async k=>{k.preventDefault();let S=c.tournament_id;if(!c.teamname.trim())return T.warn("Team Name is Required.",{autoClose:2300});if(n.ask_email&&!c.teamemail.trim())return T.warn("Email is Required",{autoClose:2300});if(n.ask_phone&&!c.teammobile.trim())return T.warn("Phone is Required",{autoClose:2300});if(n.ask_discord&&!c.teamdiscord.trim())return T.warn("Discord is Required",{autoClose:2300});if(n.ask_team_logo&&!c.selectedTeamLogo)return T.warn("Select Team Logo",{autoClose:2300});let M=!1,V=!1;if(c.players.forEach(I=>{I.inGameName.trim()||(M=!0),n.ask_player_logo&&!I.playerLogo&&(V=!0)}),M)return T.warn("All Player Name is Required",{autoClose:2300});if(V)return T.warn("Select All Player Logo",{autoClose:2300});const F=new FormData;F.append("id",t._id),F.append("teamName",c.teamname),F.append("email",c.teamemail),F.append("mobile",c.teammobile||null),F.append("discordID",c.teamdiscord),F.append("teamLogo",c.selectedTeamLogo);try{const I=T.loading("Please wait...");P(!0);const oe=await fetch("/api/Teamupdate",{method:"POST",body:F}),re=await oe.json();P(!1),oe.ok?(c.players.forEach(async(ce,m)=>{let O=y();const A=new FormData;A.append("id",t._id),A.append("index",m),A.append("inGameName",ce.inGameName),A.append("inGameID",ce.inGameID),A.append("playerLogo",ce.playerLogo),A.append("playerId",ce.playerId);try{const Z=await fetch("/api/classicplayerupdate",{method:"POST",body:A}),ee=await Z.json();Z.ok}catch(Z){T.error(Z.message,{autoClose:1800})}}),g(et(S)),T.update(I,{render:"Updated Successfully",type:"success",isLoading:!1,autoClose:1600})):T.update(I,{render:re.message,type:"warning",isLoading:!1,autoClose:2300})}catch(I){console.error(I),T.update(id,{render:I.message,type:"warning",isLoading:!1,autoClose:2300})}},_=async(k,S)=>{let M=180,V=k.target.files[0],F=await d(M,V),I=document.createElement("img");const oe=URL.createObjectURL(F);I.src=oe,document.querySelector(`#${S}`).innerHTML="",document.querySelector(`#${S}`).appendChild(I),h({...c,selectedTeamLogo:F})},R=async(k,S,M)=>{let V=k.target.files[0],F=await d(200,V),I=document.createElement("img");const oe=URL.createObjectURL(F);I.src=oe,document.querySelector(`#${S}`).innerHTML="",document.querySelector(`#${S}`).appendChild(I),D(M,F)},u=k=>{let S=k.target.name,M=k.target.value;h({...c,[S]:M})},x=(k,S,M)=>{const{value:V}=k.target;h(F=>{const I=[...F.players];return I[S]={...I[S],[M]:V},{...F,players:I}})},D=(k,S)=>{h(M=>{const V=[...M.players];return V[k]={...V[k],playerLogo:S},{...M,players:V}})},Q=()=>{const k={inGameName:"",inGameID:"",playerLogo:"",playerId:y()};h(S=>({...S,players:[...S.players,k]}))},z=k=>{let S=c.players.filter((M,V)=>V!=k);h(M=>({...M,players:S}))};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"registartionform",children:e.jsxs("div",{className:"form",children:[e.jsxs("h2",{children:["Team Edit : ",n.title]}),e.jsxs("h4",{children:["Organised by : ",n.organiser]}),e.jsxs("form",{onSubmit:N,children:[e.jsxs(ze,{sx:{"& > :not(style)":{m:1,width:"25ch"}},autoComplete:"off",children:[e.jsx(ae,{size:"small",required:!0,id:"outlined-basic",label:"Team Name",name:"teamname",value:c.teamname,onChange:u,variant:"outlined"}),e.jsx(ae,{type:"email",size:"small",id:"outlined-basic",name:"teamemail",value:c.teamemail,label:"Email ID",onChange:u,variant:"outlined"})]}),e.jsxs(ze,{sx:{"& > :not(style)":{m:1,width:"25ch",mb:2}},autoComplete:"off",children:[" ",e.jsx(ae,{size:"small",id:"outlined-basic",name:"teammobile",type:"tel",onKeyPress:k=>{/[0-9]/.test(k.key)||k.preventDefault()},value:c.teammobile,onChange:u,label:"Mobile",variant:"outlined"}),e.jsx(ae,{size:"small",id:"outlined-basic",name:"teamdiscord",value:c.teamdiscord,onChange:u,label:"Discord ID",variant:"outlined"})]}),e.jsx("h4",{children:"Set a logo for the Team* "}),e.jsx("div",{id:"teamlogo ",children:e.jsx("img",{className:" border-dashed rounded-2xl border-2  border-gray-400 ",src:c.selectedTeamLogo||s,alt:"team logo"})}),e.jsxs(X,{sx:{mb:3},component:"label",variant:"contained",startIcon:e.jsx(Ge,{}),children:["Upload Logo",e.jsx(p,{type:"file",accept:"image/*",onChange:k=>_(k,"teamlogo")})]}),e.jsx("br",{}),e.jsx("h3",{children:"Player List"}),c.players.map((k,S)=>{var M;return e.jsxs("div",{className:"player",children:[e.jsxs("h4",{children:["Player ",S+1," ",e.jsx(ct,{title:"Delete This",onClick:()=>z(S)})," "]}),e.jsxs(ze,{sx:{"& > :not(style)":{m:1,mt:2,width:"25ch"}},noValidate:!0,autoComplete:"off",children:[e.jsx(ae,{size:"small",id:`in-game-name-${S}`,value:c.players[S].inGameName,onChange:V=>x(V,S,"inGameName"),label:"In Game Name*",variant:"outlined"}),e.jsx(ae,{size:"small",id:`in-game-id-${S}`,value:c.players[S].inGameID,onChange:V=>x(V,S,"inGameID"),label:"In Game ID",variant:"outlined"}),e.jsx("h4",{children:"Set a logo for the player"}),e.jsx("div",{id:`playerLogo${S}`,children:e.jsx("img",{className:" border-dashed rounded-2xl border-2  border-gray-400 ",src:((M=c==null?void 0:c.players[S])==null?void 0:M.playerLogo)||o,alt:"playerLogo"})}),e.jsxs(X,{component:"label",variant:"contained",startIcon:e.jsx(Ge,{}),children:["Upload Logo",e.jsx(p,{type:"file",accept:"image/*",onChange:V=>R(V,`playerLogo${S}`,S)})]})]})]},S)}),e.jsx("div",{children:e.jsx(X,{sx:{mb:2},onClick:Q,startIcon:e.jsx(aa,{}),disabled:f,variant:"outlined",color:"primary",children:"Add player"})}),e.jsx(X,{sx:{mr:2,mb:1},type:"submit",startIcon:e.jsx(Ge,{}),disabled:f,variant:"contained",color:"primary",children:"Save Team"}),e.jsx(X,{sx:{mb:1},onClick:()=>a(!1),startIcon:e.jsx(ls,{}),disabled:f,variant:"outlined",color:"secondary",children:"close"})]}),e.jsxs("div",{className:"contacts",children:[e.jsx("h2",{children:"Contact Details"}),e.jsx("p",{children:"The organiser has not provided any contact details for the tournament."}),e.jsx("p",{children:'If you are the organiser, check "Contact info" section in the tournament dashboard.'})]})]})})})},Eo=({setting:t,showss:a})=>{Ee();const s=Ie(P=>P.classic),{tid:o}=dt();i.useEffect(()=>{},[]);const g=async P=>{swal({title:"Are you sure?",icon:"warning",buttons:!0,dangerMode:!0}).then(async C=>{if(C){const n=T.loading("Please wait..."),v="/api/teamdelete",y="POST",N={teamid:P};try{const _=localStorage.getItem("token"),R={method:y,headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:N?JSON.stringify(N):null},u=await fetch(v,R),x=await u.json();if(!u.ok)throw new Error(x.message||"Something went wrong");return successAction(x),T.update(n,{render:x.message,type:"success",isLoading:!1,autoClose:1600}),x}catch(_){throw console.error(" Error:",_),T.update(n,{render:_.message,type:"warning",isLoading:!1,autoClose:1600}),_}}})},[d,p]=i.useState(!1),[c,h]=i.useState(""),f=async P=>{h(P),p(!0)};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"manageteams",children:e.jsxs("div",{className:"box",children:[e.jsx("h2",{children:"All Team List:"}),!d&&s.classicplayers&&e.jsx(At,{teamarray:s.classicplayers,deletee:g,callfrom:"manageteam",edetee:f,showss:a}),d&&e.jsx(zo,{teamdetail:c,setcalledit:p}),s.classicplayers.length<1&&e.jsxs("div",{className:"middle",children:[e.jsxs("div",{className:" flex justify-center",children:[" ",e.jsx(vt,{className:"emoji"})," "]}),e.jsx("strong",{children:"Nothing To Show"}),e.jsx("p",{children:"The List is Empty. Form Resposes will start to appear once teams starts Registering"})]})]})})})},_o=()=>{Ie(z=>z.tournacenter);const t=Ie(z=>z.classic),[a,s]=i.useState(t.classicdetail),o=Ee(),[g,d]=i.useState(""),[p,c]=i.useState(!1),[h,f]=i.useState({tiepreference:!0,killpoints:1}),[P,C]=i.useState(!1),n={1:"25",2:"14",3:"10",4:"8",5:"7",6:"6",7:"5",8:"4",9:"3",10:"2",11:"1",12:"1",13:"1",14:"1",15:"1",16:"1"};i.useEffect(()=>{D(a.pointsystem),f({tiepreference:a.eachkillcount,killpoints:a.killpoints})},[a]);let v={},y=!1;const N=z=>{const{name:k,value:S}=z.target;f(M=>({...M,[k]:S}))},_=async z=>{if(z.preventDefault(),c(!0),x(),y){c(!1);return}const k=T.loading("Please wait...");try{const S=localStorage.getItem("token"),M=await fetch("/api/pointsystem",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({tid:a._id,tieprefer:h.tiepreference,killpoints:h.killpoints,placepoint:v})}),V=await M.json();if(c(!1),!M.ok)return T.update(k,{render:V.message,type:"warning",isLoading:!1,autoClose:1600});o(rs()),T.update(k,{render:V.message,type:"success",isLoading:!1,autoClose:1600})}catch(S){console.log(S),c(!1),T.update(k,{render:"Failed",type:"warning",isLoading:!1,autoClose:1600})}},R=z=>{const k=z.target.value;d(k),u(k)},u=z=>{/^(\s*\d+(-\d+)?\s*=\s*\d+\s*,?\s*\n?)*$/.test(z.trim())?C(!1):C(!0)},x=()=>{v={},y=!1;let z=g.trim();z.charAt(z.length-1)===","&&(z=z.slice(0,-1)),z.split(`,
`).forEach(M=>{var oe;if(!M.includes("=")){C(!0),y=!0,T.warn(`Invalid format near "${M}"`,{autoClose:2500});return}const V=M.split("="),F=V[0].trim(),I=(oe=V[1])==null?void 0:oe.trim();if(!F||!I||isNaN(I)){y=!0,C(!0),T.warn(`Invalid entry "${M}"`,{autoClose:2500});return}if(F.includes("-")){const[re,ce]=F.split("-").map(Number);if(re>ce||isNaN(re)||isNaN(ce)){y=!0,C(!0),T.warn(`Invalid range: ${F}`,{autoClose:2500});return}for(let m=re;m<=ce;m++){if(v[m]){y=!0,C(!0),T.warn(`Rank ${m} is repeated`,{autoClose:2500});return}v[m]=I}}else{const re=Number(F);if(isNaN(re)){y=!0,C(!0),T.warn(`Invalid rank: ${F}`,{autoClose:2500});return}if(v[re]){y=!0,C(!0),T.warn(`Rank ${re} is repeated`,{autoClose:2500});return}v[re]=I}}),y||C(!1)},D=z=>{let k="",S=null,M=null;for(let F in z)F=Number(F),z[F]!==M&&(S!==null&&(k+=S!==F-1?` ${S}-${F-1} = ${M},`:` ${S} = ${M},`),S=F),M=z[F];return k+=S!==Math.max(...Object.keys(z).map(Number))?` ${S}-${Math.max(...Object.keys(z).map(Number))} = ${M}`:` ${S} = ${M}`,k=k.split(",").join(`,
`),d(k),k},Q=()=>{d(D(n)),C(!1),f({tiepreference:!0,killpoints:1}),T.info("Points reset to default",{autoClose:2e3})};return e.jsxs("div",{className:"pointsystem scroll",component:"main",children:[e.jsxs("div",{className:"instruction",children:[e.jsx("p",{children:e.jsx("b",{children:"Format:"})}),e.jsx("p",{children:"Rank = Place Points"}),e.jsx("br",{}),e.jsx("p",{children:"Rank can be a single or a range. Separate using commas."}),e.jsx("p",{children:e.jsx("b",{children:"Example:"})}),e.jsx("p",{children:"1 = 20,"}),e.jsx("p",{children:"2 = 14,"}),e.jsx("p",{children:"3-5 = 10"}),e.jsx("p",{children:"Here from 6th, everyone will get 0"})]}),e.jsxs("form",{onSubmit:_,className:"grid",children:[e.jsx(ae,{fullWidth:!0,id:"outlined-multiline-static",label:"Place Points",multiline:!0,value:g,rows:8,name:"points",onChange:R,required:!0,error:P,sx:{mb:3},helperText:P?"âš  Please check your format (missing comma or =)!":"We added the most common point system. Modify as you please.All points must be seperated by Comma"}),e.jsxs(Xe,{sx:{mb:3},fullWidth:!0,children:[e.jsx(Qe,{id:"demo-simple-select-helper-label",children:"Tie Preference"}),e.jsxs(Ze,{labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:h.tiepreference,name:"tiepreference",label:"Tie Preference",required:!0,size:"small",onChange:N,children:[e.jsx(B,{value:!0,children:"Kill points"}),e.jsx(B,{value:!1,children:"Place Points"})]}),e.jsx(Rt,{children:"Preference to be given in case of a Tie"})]}),e.jsx(ae,{label:"Points Per Kill",variant:"outlined",type:"tel",fullWidth:!0,size:"small",onKeyPress:z=>{/[0-9]/.test(z.key)||z.preventDefault()},name:"killpoints",required:!0,value:h.killpoints,onChange:N,helperText:"Points to be awarded for each kill"}),e.jsxs("div",{className:"flex gap-3 mt-3",children:[e.jsx(X,{fullWidth:!0,type:"submit",disabled:p,variant:"contained",startIcon:e.jsx(Ra,{}),children:p?"Saving...":"SUBMIT"}),e.jsx(X,{fullWidth:!0,color:"warning",variant:"outlined",onClick:Q,children:"Reset Points"})]})]})]})},Fo=({match:t,feteche:a,setcalleditmatch:s})=>{const o=Ie(b=>b.classic),[g,d]=i.useState(o.classicdetail),[p,c]=i.useState([]),[h,f]=i.useState(""),[P,C]=i.useState([]),[n,v]=i.useState(),[y,N]=i.useState([]),[_,R]=i.useState([]),[u,x]=i.useState(!1),{tid:D}=dt(),Q=Ee(D),z={killpts:g.killpoints||1,placepoints:g.pointsystem,tiepreference:g.tiepreference};i.useEffect(()=>{},[p]),i.useEffect(()=>{N(t.points),f(t.map);const $=o.classicplayers.filter(L=>L.status=="approved").map((L,E)=>({place:E+1,label:L.teamName,teamid:L._id,players:L.player.map((j,G)=>({id:G,kills:0,inGameName:j.inGameName,playerId:j.playerId}))})).filter(L=>!t.points.some(E=>E.teamid===L.teamid));C($)},[]),i.useEffect(()=>{S(o.classicplayers)},[o.classicplayers]);const k=b=>{f(b.target.value)},S=b=>{let $=b.filter((L,E)=>L.status=="approved");c($)},M=()=>{if(p.length>0){const b=p.map($=>({label:$.teamName,teamid:$._id,players:$.player.map((L,E)=>({id:E,kills:0,inGameName:L.inGameName,playerId:L.playerId}))}));C(b)}},[V,F]=i.useState(1),I=(b,$)=>{v($)};function oe(b,$,L,E,j){return{team:b,place:$,kills:L,teamid:E,playerKills:j}}function re(b,$,L,E,j){return{place:b,team:$,kills:L,teamid:E,playerKills:j}}const ce=(b,$)=>{if(b){const L=$,E=$-1;N(j=>{const G=[...j];return[G[L],G[E]]=[G[E],G[L]],G})}else{const L=$,E=$+1;N(j=>{const G=[...j];return[G[L],G[E]]=[G[E],G[L]],G})}},m=async()=>{if(!n){T.error("Please select a team");return}const b=P.filter(ne=>ne.teamid!=n.teamid);C(b);let $=n.players.reduce((ne,le)=>ne+(le.kills||0),0);const L=oe(n.label,V,$,n.teamid,n.players),E=n.players.reduce((ne,le)=>ne+(le.kills||0),0),j=re(V,n.label,E,n.teamid,n.players);R([..._,j]);let G=[...y,L];G.sort(O),N(G),v(null),F(V+1)};function O(b,$){return b.total!==$.total?$.total-b.total:z.tiepreference?$.killpts-b.killpts:b.killpts-$.killpts}const A=b=>{const $=y[b],L=p.filter(j=>j._id==$.teamid),E={label:L[0].teamName,teamid:L[0]._id,players:L[0].player.map((j,G)=>({id:G,kills:0,inGameName:j.inGameName,playerId:j.playerId}))};C([...P,E])},Z=b=>{N(y.filter(($,L)=>L!=b)),A(b)};ie(Ve)(({theme:b})=>({[`&.${jt.head}`]:{backgroundColor:b.palette.common.black,color:b.palette.common.white},[`&.${jt.body}`]:{fontSize:14}}));const ee=async()=>{const b=y.map((L,E)=>({...L,place:E+1,kills:L.playerKills.reduce((j,G)=>j+(G.kills||0),0)})),$={...t};$.map=h,$.points=b;try{const L=T.loading("Please wait..."),E=localStorage.getItem("token"),j=await fetch("/api/editmatch",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${E}`},body:JSON.stringify({match:$})}),G=await j.json();if(!j.ok)return T.update(L,{render:G.message,type:"warning",isLoading:!1,autoClose:1600});a(),Q(et(D)),T.update(L,{render:G.message,type:"success",isLoading:!1,autoClose:1600})}catch(L){console.log(L),x(!1),T.update(id,{render:L.message,type:"warning",isLoading:!1,autoClose:1600})}},J=()=>{F(1),M(),N([])};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"enterresult matchedit",children:e.jsxs("div",{className:"box",children:[e.jsx("h2",{children:"Edit Match Info"}),e.jsxs("p",{style:{fontStyle:"italic",color:"#666",display:"block",marginTop:"10px",fontSize:"13px",width:"100%",textAlign:"center"},children:["*Note: Drag the team name to change its position (this affects only the position points).",e.jsx("br",{}),"Final rankings are calculated based on position and kill points after saving."]}),e.jsxs(Xe,{sx:{mb:2,mt:4,minWidth:"88%"},size:"small",children:[e.jsx(Qe,{id:"demo-select-small-label",children:"Map"}),e.jsxs(Ze,{labelId:"demo-select-small-label",id:"demo-select-small",value:h,label:"Map",required:!0,onChange:k,children:[e.jsx(B,{disabled:!0,value:"",children:e.jsx("em",{children:"-------PUBG/BGMI Maps-------"})}),e.jsx(B,{value:"Erangle",children:"Erangle"}),e.jsx(B,{value:"Livik",children:"Livik"}),e.jsx(B,{value:"Miramar",children:"Miramar"}),e.jsx(B,{value:"Vikendi",children:"Vikendi"}),e.jsx(B,{value:"Sanhok",children:"Sanhok"}),e.jsx(B,{value:"Karakin",children:"Karakin"}),e.jsx(B,{value:"Nusa",children:"Nusa"}),e.jsx(B,{disabled:!0,value:"",children:e.jsx("em",{children:"-------FreeFire Maps-------"})}),e.jsx(B,{value:"Bermuda",children:"Bermuda"}),e.jsx(B,{value:"Purgatory",children:"Purgatory"}),e.jsx(B,{value:"Kalahari",children:"Kalahari"}),e.jsx(B,{value:"Alpine",children:"Alpine"}),e.jsx(B,{value:"Nexterra",children:"Nexterra"}),e.jsx(B,{disabled:!0,value:"",children:e.jsx("em",{children:"-------PUBG LITE Maps-------"})}),e.jsx(B,{value:"VARENGA",children:"VARENGA"}),e.jsx(B,{value:"GOLDEN WOODS",children:"GOLDEN WOODS"})]}),e.jsx(it,{variant:"middle"}),e.jsx("div",{component:Ot,sx:{mt:2,mb:2},children:y&&y.map((b,$)=>{var L,E;return e.jsxs("div",{className:"teamdetail",children:[e.jsxs("h3",{children:["Team: ",b.team]}),e.jsxs("div",{children:[e.jsxs("span",{children:["Place : ",$+1]}),e.jsxs("span",{children:["Total Kills: ",(L=b.playerKills)==null?void 0:L.reduce((j,G)=>j+(G.kills||0),0)]}),e.jsxs("span",{children:[e.jsx(is,{title:"Move Up",onClick:$>0?()=>ce(!0,$):null,style:{marginRight:"9px",color:$>0?"inherit":"grey",cursor:$>0?"pointer":"not-allowed"}}),e.jsx(cs,{title:"Move Down",onClick:$<y.length-1?()=>ce(!1,$):null,style:{color:$<y.length-1?"inherit":"grey",cursor:$<y.length-1?"pointer":"not-allowed"}})]}),e.jsx("span",{children:e.jsx(ct,{onClick:()=>Z($)})})]}),e.jsx("div",{children:"Player Kills : â†´"}),e.jsx("div",{children:(E=b==null?void 0:b.playerKills)==null?void 0:E.map((j,G)=>e.jsx(ae,{helperText:"Leave Empty for 0",type:"tel",size:"small",value:j.kills,onPaste:ne=>{const le=ne.clipboardData.getData("Text");/^[0-9]*$/.test(le)||ne.preventDefault()},onKeyPress:ne=>{/[0-9]/.test(ne.key)||ne.preventDefault()},sx:{mt:1,maxWidth:140},label:j.inGameName,variant:"outlined",onChange:ne=>{const le=[...y];le[$].playerKills[G].kills=parseInt(ne.target.value)||0,N(le)}},G))})]},$)})}),e.jsx(it,{variant:"middle"}),e.jsxs("div",{style:{background:"rgb(241, 240, 239)",borderRadius:"5px",padding:"2px"},children:[e.jsx("h2",{children:"Add Team"}),e.jsx(Ua,{disablePortal:!0,id:"combo-box-demo",options:P,sx:{mt:1,width:300},onChange:I,noValidate:!0,renderInput:b=>e.jsx(ae,{...b,label:"Team Name"})}),e.jsx("br",{}),n&&e.jsx("h3",{children:"Players:"}),e.jsx(ze,{component:"form",sx:{"& > :not(style)":{m:1,width:"25ch",mb:2}},noValidate:!0,autoComplete:"off",children:n&&n.players.map((b,$)=>e.jsx(ae,{helperText:"Leave Empty for 0",type:"tel",onPaste:L=>{const E=L.clipboardData.getData("Text");/^[0-9]*$/.test(E)||L.preventDefault()},onKeyPress:L=>{/[0-9]/.test(L.key)||L.preventDefault()},sx:{m:1,maxWidth:140},label:b.inGameName,variant:"outlined",onChange:L=>{const E=n.players.map((j,G)=>G===$?{...j,kills:parseInt(L.target.value)}:j);v({...n,players:E})}},$))}),n&&e.jsx(X,{onClick:m,variant:"contained",sx:{m:1,maxWidth:110},startIcon:e.jsx(aa,{}),children:"Add"})]}),e.jsx(it,{variant:"middle"}),e.jsxs(ze,{display:"flex",justifyContent:"center",alignItems:"center",children:[e.jsx(X,{sx:{m:1,minWidth:110},onClick:ee,loading:u,loadingPosition:"start",startIcon:e.jsx(Ge,{}),variant:"contained",size:"small",children:"Save Changes"}),e.jsx(X,{size:"small",startIcon:e.jsx(ea,{}),onClick:J,variant:"outlined",color:"warning",sx:{m:1,maxWidth:110},children:"Reset"}),e.jsx(X,{size:"small",onClick:()=>s(!1),variant:"contained",color:"secondary",sx:{m:1,maxWidth:110},children:"Go Back"})]})]})]})})})},Ho=()=>{const t=Ee();Ie(u=>u.classic);const[a,s]=i.useState(!1),[o,g]=i.useState([]),[d,p]=i.useState([]),[c,h]=i.useState(!1),[f,P]=i.useState([]),{tid:C}=dt();i.useEffect(()=>{n()},[]);const n=async()=>{try{t(yt(!0));const u=await fetch("/api/getmatches",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tid:C})}),x=await u.json();if(t(yt(!1)),!u.ok)return T.warn(x.message,{autoClose:1700});g(x.matches),p(x.rules)}catch(u){console.error(u),t(yt(!1))}};function v(u,x,D,Q,z,k){return{team:u,place:x,placepts:D,killpts:Q,total:z,teamid:k}}function y(u,x){return u.total!==x.total?x.total-u.total:d.tiepreference?x.killpts-u.killpts:u.killpts-x.killpts}const N=u=>{let x=[];return u.map((D,Q)=>{let z=d.pointsystem[D.place],k=D.kills*d.killpoints,S=parseInt(z)+k,M=v(D.team,D.place,z,k,S,D.teamid);x.push(M),x=x.sort(y)}),x},_=async u=>{_a({title:"Are you sure?",text:"Once deleted, you will not be able to recover this Match!",icon:"warning",buttons:!0,dangerMode:!0}).then(async x=>{if(x)try{s(!0);const D=await fetch("/api/deletematch",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({matchid:u})}),Q=await D.json();D.ok&&(T.success(Q.message,{autoClose:1500}),n()),s(!1)}catch(D){console.error(D),s(!1)}})},R=u=>{h(!0),P(u)};return e.jsx(e.Fragment,{children:c?e.jsx(Fo,{feteche:n,match:f,setcalleditmatch:h}):e.jsxs("div",{className:"viewmatches",children:[e.jsx("h2",{children:"Matches List"}),o.length<1&&e.jsx("div",{className:"notfound",children:e.jsxs("div",{children:[e.jsx(vt,{className:"sad"}),e.jsx("h2",{children:"No Match Found for this Tournament"}),e.jsx("p",{children:"Please Add Matches First in 'Enter Results' Section."})]})}),o.map((u,x)=>{const D=new Date(u.createdAt),Q={weekday:"short",year:"numeric",month:"short",day:"numeric"},z=new Intl.DateTimeFormat("en-GB",Q).format(D);return e.jsxs(Da,{className:"",children:[e.jsx(Oa,{expandIcon:e.jsx(ds,{}),"aria-controls":"panel1-content",id:"panel1-header",className:"panelheader",children:e.jsxs("span",{className:"title",children:[e.jsxs("span",{children:["Match #",x+1," - ",u.map?u.map:"N/A"]}),e.jsx("span",{children:z})]})}),e.jsxs(Ma,{className:"tablehead",children:[e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"#"}),e.jsx("th",{children:"Team"}),e.jsx("th",{children:"Place"}),e.jsx("th",{children:"Place Pts"}),e.jsx("th",{children:"Kill Pts"}),e.jsx("th",{children:"Total"})]})}),e.jsx("tbody",{children:N(u.points).map((k,S)=>e.jsxs("tr",{children:[e.jsx("td",{children:S+1}),e.jsx("td",{children:k.team}),e.jsx("td",{children:k.place}),e.jsx("td",{children:k.placepts}),e.jsx("td",{children:k.killpts}),e.jsx("td",{children:k.total})]},S))})]}),e.jsxs(Ae,{direction:"row",spacing:2,children:[e.jsx(X,{variant:"outlined",onClick:()=>R(u),startIcon:e.jsx(ps,{}),children:"Edit"}),e.jsx(X,{onClick:()=>_(u._id),loading:a,color:"error",loadingPosition:"start",startIcon:e.jsx(ct,{}),variant:"outlined",type:"submit",children:"DELETE"})]})]})]},x)})]})})},Yo=()=>{const t=us(),a=Ie(N=>N.classic),s=Ie(N=>N.tournacenter),{tid:o}=dt(),g=Ee(),[d,p]=i.useState(!1),[c,h]=i.useState(""),[f,P]=i.useState(0);if(i.useEffect(()=>{g(et(o)),g(ms("Setting")),g(yt(!0))},[]),i.useEffect(()=>{g(yt(a.loading))},[a.loading]),i.useEffect(()=>{if(!a.isowner&&!a.loading){_a({title:"Access Denied",text:"You are not authorized to manage this tournament.",icon:"warning"}),g(gs(!0)),t("/dashboard");return}},[a.loading]),!a.classicsetting)return e.jsx("h3",{children:"Loading..."});const C=N=>{let _=document.querySelectorAll(".controller .cont");for(let R=0;R<_.length;R++)_[R].classList.remove("active");P(N),_[N].classList.add("active")};let n=window.location.origin;function v(N){var _=document.createElement("input"),R=`${n}/${N}/${o}`;_.value=R,document.body.appendChild(_),_.select(),document.execCommand("copy"),document.body.removeChild(_),T.success("Link Copied",{autoClose:900})}const y=N=>{p(!0),h(N)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"tournasetting",children:[e.jsxs("div",{className:"controller",children:[e.jsxs("div",{className:"cont active",onClick:()=>C(0),children:[e.jsx(za,{className:"icon"}),e.jsx("h3",{children:"Basic Settings"})]}),e.jsxs("div",{className:"cont",onClick:()=>C(1),children:[e.jsx(Aa,{className:"icon"}),e.jsx("h3",{children:"Manage Forms"})]}),e.jsxs("div",{className:"cont",onClick:()=>C(2),children:[e.jsx(hs,{className:"icon"}),e.jsx("h3",{children:"Enter Results"})]}),e.jsxs("div",{className:"cont",onClick:()=>C(3),children:[e.jsx(fs,{className:"icon"}),e.jsx("h3",{children:"Manage Teams"})]}),e.jsxs("div",{className:"cont",onClick:()=>C(4),children:[e.jsx(xs,{className:"icon"}),e.jsx("h3",{children:"Points System"})]}),e.jsxs("div",{className:"cont",onClick:()=>C(5),children:[e.jsx(bs,{className:"icon"}),e.jsx("h3",{children:"View Matches"})]})]}),e.jsxs("div",{className:"material",children:[f==0&&e.jsx(Mo,{showss:y}),f==1&&e.jsx(To,{}),f==2&&e.jsx(Ao,{}),f==3&&e.jsx(Eo,{showss:y}),f==4&&e.jsx(_o,{}),f==5&&e.jsx(Ho,{}),e.jsx(Ea,{shadow:!1,open:d,onClose:()=>p(!1),children:e.jsxs("div",{className:"paymentssmodal",children:[e.jsx("span",{title:"close",onClick:()=>p(!1),children:" X "}),e.jsx("img",{src:c,alt:"payment SS"})]})})]}),e.jsxs("div",{className:"links",children:[e.jsxs("div",{className:"box",children:[e.jsx("header",{children:"Stats Page Link"}),e.jsx("p",{children:"Check out the link for the latest: Points, Top Fraggers, Team Stats, and Match Performances. Share it with the participants!"}),e.jsxs(Ae,{spacing:2,direction:"row",className:"inpline",children:[e.jsx(ae,{"aria-readonly":!0,sx:{width:"250px"},inputProps:{style:{fontSize:12}},id:"outlined-basic",size:"small",value:s.links&&`${n}/stat/${s.links}`,label:"Stats Page Link",variant:"outlined"}),e.jsx(Yt,{title:"Copy Link",className:"copy",onClick:()=>v("stat")})]}),e.jsx("a",{href:`${n}/stat/${o}`,target:"_blank",title:"Visit Page",children:e.jsx(X,{sx:{pb:.2,pt:.3},startIcon:e.jsx(Xt,{}),size:"small",variant:"contained",children:"Visit"})})]}),e.jsxs("div",{className:"box",children:[e.jsx("header",{children:"Registration Page Link"}),e.jsx("p",{children:"Teams can register for this tournament using the following link."}),e.jsxs(Ae,{spacing:2,direction:"row",className:"inpline",children:[e.jsx(ae,{sx:{width:"250px"},inputProps:{style:{fontSize:12}},id:"outlined-basic",size:"small",value:s.links&&`${n}/register/${s.links}`,label:"Registration Form Link",variant:"outlined"}),e.jsx(Yt,{title:"Copy Link",className:"copy",onClick:()=>v("register")})]}),e.jsx("a",{href:`${n}/register/${o}`,target:"_blank",title:"Visit Page",children:e.jsx(X,{sx:{pb:.2,pt:.3},startIcon:e.jsx(Xt,{}),size:"small",variant:"contained",children:"Visit"})})]}),e.jsxs("div",{className:"box",children:[e.jsx("header",{children:"Public Post Link"}),e.jsx("p",{children:"Find the tournament's public page here. Ensure the tournament visibility is set to 'PUBLISHED' and remember to add content to the public post."}),e.jsxs(Ae,{spacing:2,direction:"row",className:"inpline",children:[e.jsx(ae,{sx:{width:"250px"},inputProps:{style:{fontSize:12}},id:"outlined-basic",size:"small",value:s.links&&`${n}/tournaments/${s.links}`,label:"Public Post Link",variant:"outlined"}),e.jsx(Yt,{title:"Copy Link",className:"copy",onClick:()=>v("tournaments")})]}),e.jsx("a",{href:`${n}/tournaments/${o}`,target:"_blank",title:"Visit Page",children:e.jsx(X,{sx:{pb:.2,pt:.3},startIcon:e.jsx(Xt,{}),size:"small",variant:"contained",children:"Visit"})})]})]})]})})};export{Yo as default};
