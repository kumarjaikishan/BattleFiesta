import{r as D,i as E,j as e,a as O,l as T,b as o,n as C,o as d,Q as M,f as z,B as L}from"./index-cJ-fLLk8.js";var u={},R=E;Object.defineProperty(u,"__esModule",{value:!0});var p=u.default=void 0,b=R(D()),k=e;p=u.default=(0,b.default)((0,k.jsx)("path",{d:"M3 18h13v-2H3zm0-5h10v-2H3zm0-7v2h13V6zm18 9.59L17.42 12 21 8.41 19.59 7l-5 5 5 5z"}),"MenuOpen");const q=()=>{const r=O(),g=T(),j="https://res.cloudinary.com/dusxlxlvm/image/upload/v1709654642/battlefiesta/assets/logo/logopng250_vuhy4f.webp";o.useEffect(()=>{r(C("Tournaments")),r(d(!0)),_()},[]);const[x,f]=o.useState([]),[v,N]=o.useState([]),[y,S]=o.useState([]),[m,c]=o.useState([]),l=s=>{let t=document.querySelectorAll(".conta div");for(let a=0;a<t.length;a++)t[a].classList.remove("active");t[s].classList.add("active"),s==0&&c(v),s==1&&c(x),s==2&&c(y)},_=async()=>{try{const s=await fetch("/api/getalltournament",{method:"GET"}),t=await s.json();if(console.log("findtournament page",t),r(d(!1)),!s.ok)return M.warn(t.message,{autoclose:2100});let a=[],i=[],h=[];t.data.map(n=>{n.status=="ongoing"&&a.push(n),n.status=="upcoming"&&i.push(n),n.status=="completed"&&h.push(n)}),f(a),N(i),S(h),c(i)}catch(s){console.log(s),r(d(!1))}},w=s=>g(`/tournaments/${s}`);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"findtournas",children:[e.jsxs("div",{className:"conta",children:[e.jsxs("div",{onClick:()=>l(0),className:"active",children:[e.jsx("i",{className:"fa fa-gamepad","aria-hidden":"true"}),e.jsx("span",{children:"UPCOMING"})]}),e.jsxs("div",{onClick:()=>l(1),children:[e.jsx("i",{className:"fa fa-play","aria-hidden":"true"}),e.jsx("span",{children:"ONGOING"})]}),e.jsxs("div",{onClick:()=>l(2),children:[e.jsx("i",{className:"fa fa-undo","aria-hidden":"true"}),e.jsx("span",{children:"COMPLETED"})]})]}),e.jsxs("div",{className:"cards",children:[m.length<1&&e.jsx("div",{className:"notfound",children:e.jsxs("div",{children:[e.jsx(z,{className:"sad"}),e.jsx("h2",{children:"No Tournament Found"}),e.jsx("p",{children:"This section will be auto updated once any Tournament comes under this section"})]})}),m.map((s,t)=>{const a=new Date(s.createdAt).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}),i=new Date(s.createdAt).toLocaleTimeString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0});return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"img",children:[e.jsx("img",{loading:"lazy",src:s.tournment_logo?s.tournment_logo:j,alt:"logo"}),e.jsx("span",{title:s.title,children:s.title})]}),e.jsxs("h3",{className:"organiser",children:["- ",s.organiser," "]}),e.jsxs("div",{className:"time",children:[a,", ",i," ",e.jsx("span",{children:s.type})]}),e.jsxs("div",{className:"controller",children:[e.jsx(L,{size:"small",onClick:()=>w(s._id),variant:"contained",endIcon:e.jsx(p,{}),children:"READ MORE"}),e.jsx("p",{className:"status",title:"Status",children:s.status})]})]},s._id)})]})]})})};export{q as default};
